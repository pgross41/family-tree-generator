(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports={memberField:"MemberField_memberField__1iOq4",active:"MemberField_active__1YhGr",highlight:"MemberField_highlight__fAJ0y",root:"MemberField_root__mHAz9",inline3:"MemberField_inline3__2CdJB",inline4:"MemberField_inline4__1LOiQ",title:"MemberField_title__1bgKp",name:"MemberField_name__31Fgk",memberButton:"MemberField_memberButton__18IBS",removeButton:"MemberField_removeButton__o-nrx",childrenLabel:"MemberField_childrenLabel__ppMhQ",addChildButton:"MemberField_addChildButton__16uv0",dithered:"MemberField_dithered__3aakj"}},111:function(e,t,n){e.exports={tree:"Tree_tree__3hlMJ",treeNodes:"Tree_treeNodes__3xeI5"}},112:function(e,t,n){e.exports={title:"Title_title__26kXl",subTitle:"Title_subTitle__2j7hW"}},114:function(e,t,n){e.exports={error:"ImportView_error__1iI9D"}},13:function(e,t,n){e.exports={childNode:"ChildNode_childNode__wNnB_",highlight:"ChildNode_highlight__2A8mB",name:"ChildNode_name__2ug_4",date:"ChildNode_date__1Vluh",inline:"ChildNode_inline__1majW",inlineBlock:"ChildNode_inlineBlock__2Gvgv",leaves:"ChildNode_leaves__29ojg",top:"ChildNode_top__HzY4u",bottom:"ChildNode_bottom__2TtaQ",left:"ChildNode_left__2pksp",right:"ChildNode_right__1WZRD"}},153:function(e,t,n){e.exports={treeCanvas:"TreeCanvas_treeCanvas__EBgHx",mouseDown:"TreeCanvas_mouseDown__d_FVG"}},157:function(e,t,n){e.exports={treeNode:"TreeNode_treeNode__29IcO",left:"TreeNode_left__1zPjb"}},158:function(e,t,n){e.exports=n.p+"static/media/longLeaves1.4fd1dca2.svg"},159:function(e,t,n){e.exports=n.p+"static/media/longLeaves2.08958bfe.svg"},160:function(e,t,n){e.exports=n.p+"static/media/longLeaves3.08c2ab5f.svg"},161:function(e,t,n){e.exports=n.p+"static/media/shortLeaves1.4565e04a.svg"},162:function(e,t,n){e.exports=n.p+"static/media/shortLeaves2.0daeb783.svg"},163:function(e,t,n){e.exports=n.p+"static/media/shortLeaves3.9a8ca7e6.svg"},164:function(e,t,n){e.exports=n.p+"static/media/shortLeaves4.f9655af9.svg"},165:function(e,t,n){e.exports=n.p+"static/media/squareLeaf2.9ca5396f.svg"},166:function(e,t,n){e.exports={treePie:"TreePie_treePie__N-zmj"}},169:function(e,t,n){e.exports={exportView:"ExportView_exportView__2RvvP"}},170:function(e,t,n){e.exports={viewButton:"ViewButton_viewButton__1gzeJ"}},171:function(e,t,n){e.exports={app:"App_app__MNXVh"}},174:function(e,t,n){e.exports=n(384)},31:function(e,t,n){e.exports={panel:"Panel_panel__1dvdb",closed:"Panel_closed__2cyp4",panelButtons:"Panel_panelButtons__i6YCd",panelButton:"Panel_panelButton__2-EZS",content:"Panel_content__25PwW",contentScroll:"Panel_contentScroll__39o-U",configFieldsWrapper:"Panel_configFieldsWrapper__xXFyp"}},381:function(e,t,n){},384:function(e,t,n){"use strict";n.r(t);n(175);var a=n(0),r=n.n(a),i=n(152),c=n.n(i),o=(n(381),n(30)),l=n(153),s=n.n(l),d=n(36),u=n.n(d),m=n(6),f=n(20),h=n(42),g=n(58),b=n(154),v=n.n(b),p=n(172),E=n(155),_=n(78),y=n(173),N=n(14),M=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.a)(this,e);var n={id:void 0,name:"New Member",born:"",died:"",spouseName:"",spouseBorn:"",parentId:void 0,offsetAngle:void 0,childrenMinAngleBetweenSibs:void 0,childEdge1Adjustment:void 0,childEdge2Adjustment:void 0},a=Object.keys(t).filter(function(e){return Object.keys(n).includes(e)}).reduce(function(e,n){return Object(m.a)({},e,Object(N.a)({},n,t[n]))},{});Object.assign(this,Object(m.a)({},n,a)),this.id?e.nextId=Math.max(e.nextId,this.id):this.id=++e.nextId};M.nextId=0;var w=M,O=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,t),e=Object(p.a)(this,Object(E.a)(t).call(this,n)),Object.assign(Object(_.a)(e),Object(m.a)({},n)),e}return Object(y.a)(t,e),Object(g.a)(t,[{key:"getDescendentIds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return[].concat(Object(f.a)(t.children.map(function(e){return e.id})),Object(f.a)(t.children.map(function(t){return e.getDescendentIds(t)}))).flat()}},{key:"isFirstChild",value:function(){return 1===this.childId}},{key:"isLastChild",value:function(){return this.childId===this.maxChildId}},{key:"isFirst",value:function(){return this.generation&&1===this.generationId}},{key:"isLast",value:function(){return this.generation&&this.generationId===this.generation.size()}}]),t}(w),C=function(){function e(){Object(h.a)(this,e),this.members=[]}return Object(g.a)(e,[{key:"size",value:function(){return this.members.length}},{key:"addMember",value:function(e){this.members.push(e),e.generationId=this.size()}}]),e}(),j=function(){function e(t){Object(h.a)(this,e);var n={members:[],memberData:[],generations:{},rootMember:void 0};Object.assign(this,Object(m.a)({},n,t))}return Object(g.a)(e,[{key:"load",value:function(t){var n=this;w.nextId=0,this.memberData=Object(f.a)(t).map(function(e){return new w(e)}),this.members=[],this.generations={};var a=e.findRoot(this.memberData);this.rootMember=new O(a[0]),this.rootMember.children=function e(t){return n.memberData.filter(function(e){return t.id&&t.id===e.parentId}).map(function(a){var r=new O(a);return r.parent=t,r.children=e(r),r._included=!0,n.members.push(r),r})}(this.rootMember),this.rootMember.depth=0,this.members.push(this.rootMember),this.members.filter(function(e){return e!==n.rootMember&!e._included}).forEach(function(e){return console.error("".concat(e.name," is not included! parent: ").concat(e.parentId))});var r=0,i=[];return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1];a++;var o=0;t.forEach(function(l){delete l._included,l.generation=n.generations[a]=n.generations[a]||new C,l.generation.addMember(l),l.childId=++o,l.maxChildId=t.length,l.depth=a,l.nodeId=n.isCsv?++r:l.id,l.siblings=t.filter(function(e){return e.id!==l.id}),l.prevSibling=i[a],l.ancestors=c,l.nextSibling=void 0,(i[a]||{}).nextSibling=l,i[a]=l,e(l.children,a,[].concat(Object(f.a)(c),[l.nodeId]))})}(this.rootMember.children),this}},{key:"get",value:function(e){return this.members.find(function(t){return t.id===e})}},{key:"getNewest",value:function(){var e=this.members.reduce(function(e,t){return Math.max(e,t.id)},Number.NEGATIVE_INFINITY);return this.get(e)}},{key:"getGenerationCount",value:function(){return Object.keys(this.generations).length}},{key:"findByName",value:function(e){return e&&this.members.find(function(t){return t.name.toLowerCase().includes(e)||t.spouseName.toLowerCase().includes(e)})}},{key:"addChild",value:function(e,t){this.get(e)&&this.load([].concat(Object(f.a)(this.memberData),[Object(m.a)({},t,{parentId:e,name:"New Member"})]))}},{key:"addMember",value:function(e){return this.load([].concat(Object(f.a)(this.memberData),[e]))}},{key:"removeMember",value:function(e){var t=this.get(e),n=[e].concat(Object(f.a)(t.getDescendentIds()));return this.load(this.memberData.filter(function(e){return!n.includes(e.id)}))}},{key:"updateMember",value:function(e,t){var n=this.memberData.find(function(t){return t.id===e});return Object.assign(n,t),this.load(this.memberData)}},{key:"moveMember",value:function(e,t){var n=this.get(e),a=this.memberData.findIndex(function(t){return t.id===e}),r=n.siblings.find(function(e){return e.childId===n.childId+t});if(!r)return this;var i=this.memberData.findIndex(function(e){return e.id===r.id});return this.memberData.splice(i,0,this.memberData.splice(a,1)[0]),this.load(this.memberData)}}]),e}();j.findRoot=function(e){return e.filter(function(e){return!e.parentId})},j.parseCsv=function(e){var t=v.a.parse(e,{header:!0}).data;return j.validate(t),t},j.validate=function(e){if(!Array.isArray(e))throw Error("Family members must be a list");var t=j.findRoot(e);if(!t.length)throw Error("No roots found (members with no parent)");if(t.length>1)throw Error("Multiple roots found (members with no parent)")};var x=j,I=new Date,k={debugMode:!1,zoom:.5,title:"My Family",subTitle:"".concat(I.toLocaleString("en-us",{month:"long"}),", ").concat(I.getFullYear()),treeWidth:2e3,treeAngle:180,minAngleBetweenSibs:5,edgeLeafOffsetAngle:0,wrapNames:!1,dateFormat:"MMMM D, YYYY",members:[{}]},S=k,F=n(156),T=n.n(F),B=function(e){if(!["ArrowUp","ArrowDown"].includes(e.key))return e.target.value;e.preventDefault();var t=e.target.value.match(/(.*?)(-?[.\d]+)(.*)/);if(!t)return e.target.value;var n=t[2].includes(".")?parseFloat(t[2]):parseInt(t[2]),a=(e.altKey?.1:e.ctrlKey&&100)||1,r=n+("ArrowUp"===e.key?a:-a);return"".concat(t[1]).concat(Math.round(10*r)/10).concat(t[3])},D=function(e){return e.split(" ").map(function(e){return(e[0]||"").toUpperCase()+e.substr(1).toLowerCase()}).join(" ")},L=function(e){try{return JSON.parse(e)}catch(t){return e}},A=function(e,t){return e&&T()(e,["DDMMMMY","MMMMDDY"]).format(t||k.dateFormat)},P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return Object(m.a)({},e,Object(N.a)({},t,t))},{})}("SETTINGS","IMPORT","EXPORT"),V=JSON.parse(localStorage.getItem("config"))||S,K=function(e,t){var n=Object(f.a)(t),a=n[0],r=n[1];switch(e.selectedView===P.SETTINGS&&localStorage.setItem("config",JSON.stringify(e.config)),a){case"setMemberEl":return Object(m.a)({},e,{memberEls:Object(m.a)({},e.memberEls,r)});case"setConfig":return Object(m.a)({},e,{config:Object(m.a)({},e.config,r)});case"importSettings":var i=e.family.load(r.members);return Object(m.a)({},e,{config:r,family:i});case"setSelectedMember":return Object(m.a)({},e,{selectedMember:r});case"setSelectedView":return Object(m.a)({},e,{selectedMember:null,selectedView:r});case"updateMember":return Object(m.a)({},e,{family:e.family.updateMember(r.id,r.props)});case"addMember":return Object(m.a)({},e,{family:e.family.addMember(r)});case"removeMember":return Object(m.a)({},e,{family:e.family.removeMember(r)});case"moveMember":return Object(m.a)({},e,{family:e.family.moveMember(r.id,r.positionOffset)});default:return}},R={config:V,family:(new x).load(V.members),members:[],memberEls:{},selectedMember:{},selectedView:P.SETTINGS},z=r.a.createContext(R),Y=function(e){var t=r.a.useReducer(K,R),n=Object(o.a)(t,2),a=n[0],i=n[1];return r.a.createElement(z.Provider,{value:{state:a,dispatch:i}},e.children)},G=function(e){var t=r.a.useContext(z).state,n=r.a.useRef(),a={marginRight:e.menuOpen?void 0:0},i=t.config.zoom,c={zoom:i},o=u()(s.a.treeCanvas,t.config.debugMode&&"debugMode"),l={isDown:!1,startX:void 0,startY:void 0,scrollLeft:void 0,startTop:void 0},d=function(){n.current.style.cursor="",l.isDown=!1};if(n.current&&t.selectedMember){var m=t.memberEls[t.selectedMember.id];if(m){var f=m.offsetLeft+m.offsetWidth/2,h=m.offsetTop+m.offsetHeight/2;n.current.scroll({top:h*i-n.current.offsetHeight/2*i/i,left:f*i-n.current.offsetWidth/2*i/i,behavior:"smooth"})}}return r.a.createElement("div",{id:"treeCanvas",className:o,style:a,ref:n,onMouseDown:function(e){n.current.style.cursor="grabbing",l.isDown=!0,l.startX=e.pageX-n.current.offsetLeft,l.startY=e.pageY-n.current.offsetTop,l.scrollLeft=n.current.scrollLeft,l.scrollTop=n.current.scrollTop},onMouseLeave:d,onMouseUp:d,onMouseMove:function(e){if(l.isDown){e.preventDefault();var t=e.pageX-n.current.offsetLeft,a=e.pageY-n.current.offsetTop;n.current.scrollLeft=l.scrollLeft-(t-l.startX),n.current.scrollTop=l.scrollTop-(a-l.startY)}}},r.a.createElement("div",{style:c},e.children))},W=n(157),J=n.n(W),U=r.a.forwardRef(function(e,t){return r.a.createElement("div",{ref:t,className:J.a.treeNode,style:e.style},r.a.createElement("div",{className:e.className},e.children))}),X=n(13),H=n.n(X),q=r.a.memo(function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch,i=r.a.useRef(),c=n.config.wrapNames,o=c?"":"\xa0",l=e.spouseName&&!c,s=(e.name||o)+(l?" +":o),d=function(e){return A(e,n.config.dateFormat)},m=d(e.born)+(e.died?" - ".concat(d(e.died)):o),f=e.spouseName||o,h=d(e.spouseBorn)+(e.spouseDied?" - ".concat(d(e.spouseDied)):o),g=c?H.a.inline:H.a.inlineBlock,b=H.a[e.half]||o,v=(n.selectedMember||{}).id;return n.memberEls[e.child.id]||a(["setMemberEl",Object(N.a)({},e.child.id,i.current)]),r.a.createElement(U,{ref:i,style:e.style,className:H.a.childNode},r.a.createElement("div",{className:u()(b,e.id===v&&H.a.highlight)},r.a.createElement("div",{className:u()(g,H.a.member)},r.a.createElement("div",{className:H.a.name},s),r.a.createElement("div",{className:H.a.date},m)),e.spouseName&&r.a.createElement("div",{className:u()(g,H.a.spouse)},r.a.createElement("div",{className:H.a.name},f),r.a.createElement("div",{className:H.a.date},h))))}),Q=n(80),Z=n.n(Q),$=n(158),ee=n.n($),te=n(159),ne=n.n(te),ae=n(160),re=n.n(ae),ie=n(161),ce=n.n(ie),oe=n(162),le=n.n(oe),se=n(163),de=n.n(se),ue=n(164),me=n.n(ue),fe=[ee.a,ne.a,re.a],he=[ce.a,le.a,de.a,me.a],ge=function(e){var t="small"===e.size?he:fe;return r.a.createElement(U,{style:e.style,className:Z.a.leafNode},r.a.createElement("img",{className:u()(Z.a.leafNodeImg,Z.a[e.classKey]),src:t[e.id%t.length],alt:""}))},be=n(81),ve=n.n(be),pe=function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch,i=r.a.useRef(),c=e.name||"",o=function(e){return A(e,n.config.dateFormat)},l=o(e.born)+(e.died?" - ".concat(o(e.died)):""),s=e.spouseName||"",d=o(e.spouseBorn)+(e.spouseDied?" - ".concat(o(e.spouseDied)):"");return n.memberEls[e.id]||a(["setMemberEl",Object(N.a)({},e.id,i.current)]),r.a.createElement("div",{ref:i,className:ve.a.rootNode},r.a.createElement("div",{className:"".concat(H.a.member," ").concat(ve.a.member)},r.a.createElement("div",{className:H.a.name},c),r.a.createElement("div",{className:H.a.date},l)),r.a.createElement("div",{className:"".concat(H.a.spouse," ").concat(ve.a.spouse)},r.a.createElement("div",{className:H.a.name},s),r.a.createElement("div",{className:H.a.date},d)))},Ee=n(165),_e=n.n(Ee),ye=n(166),Ne=n.n(ye),Me=function(e){var t=e.r,n=2*Math.PI+(Math.PI-e.thetaStart),a=Math.PI/100,i=Math.cos(e.thetaStart+a)*t,c=Math.sin(e.thetaStart+a)*t,o=Math.cos(n+a)*t,l=Math.sin(n+a)*t,s=n-e.thetaStart>Math.PI?1:0,d=["M ".concat(i," ").concat(c),"A ".concat(t," ").concat(t," 0 ").concat(s," 1 ").concat(o," ").concat(l),"L 0 0"].join(" ");return r.a.createElement("svg",{className:Ne.a.treePie,style:e.style,viewBox:"-100 -100 200 200"},r.a.createElement("defs",null,r.a.createElement("pattern",{id:"leaf-square",patternUnits:"userSpaceOnUse",width:43,height:32.4},r.a.createElement("image",{href:_e.a,x:"0",y:"0",width:43,height:32.4}))),r.a.createElement("path",{d:d,fill:"url(#leaf-square)"}))},we=n(111),Oe=n.n(we),Ce=function(e){return(e||0)*(Math.PI/180)},je=function(e){var t=r.a.useContext(z).state,n=t.config,a=t.family,i=a.rootMember,c=Math.PI+(Math.PI-Ce(n.treeAngle))/2,o=2*Math.PI-(Math.PI-Ce(n.treeAngle))/2,l=function(e){return 100/(a.getGenerationCount()+1)*e},s=0,d=function(e){var t=e.parent.calculations,a=e.parent.parent&&e.parent.parent.children.length,r=t?t.familyThetaLen/a:Ce(n.treeAngle),i=r/(e.siblings.length+1),o=e.prevSibling&&e.prevSibling.calculations.theta||0,s=t?t.theta-r/2:c,d=Math.max(s+i*(e.childId-.5),o+Ce(n.minAngleBetweenSibs),o+Ce(e.parent.childrenMinAngleBetweenSibs))+Ce(e.offsetAngle);return{theta:d,r:l(e.depth),half:d>Math.PI+Math.PI/2?"right":"left",familyThetaLen:r,childThetaLen:i}},u=function(e,t){var n=e*Math.cos(t)/2+50,a=e*Math.sin(t)+100;return{left:"".concat(n,"%"),top:"".concat(a,"%"),transform:"rotate(".concat(t,"rad)")}},m="".concat(n.treeWidth,"px"),h="".concat(n.treeWidth/2,"px"),g={width:m,height:"calc(".concat(h," + 460px)")},b={width:m,height:"calc(".concat(h," * 2)")},v={width:m,height:h},p=function e(t){return t.reduce(function(t,n){n.calculations=d(n);var a=u(n.calculations.r,n.calculations.theta);return t.push(r.a.createElement(q,Object.assign({},n,{half:n.calculations.half,style:a,key:s++,child:n}))),t.push(e(n.children)),t.flat()},[])}(i.children),E=function(){var e=[],t=0,n=0,i=function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=Math.round(25*a);Object(f.a)(Array(d)).forEach(function(m,f){if(!(f%s)){var h=l(a)+10+i;n=h<n||i?n:h;var g=u(h,c+(o-c)/(d-1)*f);e.push(r.a.createElement(ge,{key:++t,id:t,style:g,size:"small"}))}})};return Object.keys(a.generations).forEach(function(e){return i(e)}),i(a.getGenerationCount(),5,2),i(a.getGenerationCount(),8,5),{leafNodes:e,maxR:n}}(),_=function(){var e=[],t=0;a.members.forEach(function(n){if(n.children.length&&n.parent){var a=l(n.depth+1)-11,i=n.children[0].calculations,c=i.theta-i.childThetaLen/2+Ce(n.childEdge1Adjustment),o=n.children.slice(-1)[0].calculations,s=o.theta+o.childThetaLen/2+Ce(n.childEdge2Adjustment);n.isFirst()||n.prevSibling&&n.prevSibling.children.length||e.push(r.a.createElement(ge,{id:++t,key:t,style:u(a,c),classKey:"thin"})),n.isLast()||e.push(r.a.createElement(ge,{id:++t,key:t,style:u(a,s),classKey:"thin"}))}});var i=c-Ce(n.edgeLeafOffsetAngle),s=o+Ce(n.edgeLeafOffsetAngle);return Object.keys(a.generations).forEach(function(n){var a=l(n)-11;e.push(r.a.createElement(ge,{id:++t,key:t,style:u(a,i)})),e.push(r.a.createElement(ge,{id:++t,key:t,style:u(a,s)}))}),e}();return r.a.createElement("div",{className:Oe.a.tree,style:g},a.getGenerationCount()>1&&r.a.createElement(Me,{style:b,thetaStart:c,r:E.maxR}),r.a.createElement("div",{className:Oe.a.treeNodes,style:v},r.a.createElement(pe,i),p,E.leafNodes,_))},xe=n(112),Ie=n.n(xe),ke=function(e){var t=r.a.useContext(z).state.config;return r.a.createElement("div",{className:Ie.a.title,style:{width:"".concat(t.treeWidth,"px")}},t.title,r.a.createElement("div",{className:Ie.a.subTitle},t.subTitle))},Se=n(31),Fe=n.n(Se),Te=n(82),Be=n.n(Te),De=n(79),Le=n.n(De),Ae=function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch;return r.a.createElement("div",{className:Le.a.configField},r.a.createElement("div",null,e.label),r.a.createElement("input",Object.assign({value:n.config[e.configKey]||"",onChange:function(t){var n="checkbox"===(e.attrs||{}).type?t.target.checked:t.target.value;a(["setConfig",Object(N.a)({},e.configKey,L(n))])},onKeyDown:function(t){return a(["setConfig",Object(N.a)({},e.configKey,L(B(t)))])},type:"number"},e.attrs)))},Pe=n(11),Ve=n.n(Pe),Ke=n(16),Re=r.a.memo(function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch,i=e.member,c=n.selectedMember||{},o=(c.ancestors||[]).includes(i.id),l=i.id===c.id,s="".concat(Le.a.configField," ").concat(Ve.a.memberField," ").concat(e.root?Ve.a.root:""," ").concat(l?Ve.a.active:""),d=i.name+(i.spouseName?" and ":"")+i.spouseName,u="".concat(Ve.a.name," ").concat(l||o?Ve.a.highlight:""),m=function(e){return a(["updateMember",{id:i.id,props:e}])},f=r.a.useRef(),h=function(e){return a(["setSelectedMember",e||{}])},g=function(e,t){e.stopPropagation(),a(["moveMember",{id:i.id,positionOffset:t}])},b=function(e){return r.a.createElement("input",{ref:e.ref,value:i[e.configKey]||e.defaultValue||"",onChange:function(t){return function(e,t,n){return m(Object(N.a)({},t,void 0===n?e.target.value:n))}(t,e.configKey)},onKeyDown:function(t){return function(e,t){return m(Object(N.a)({},t,B(e)))}(t,e.configKey)}})},v=function(e){return r.a.createElement("div",{className:e.className||Ve.a.inline3},r.a.createElement("div",{className:Ve.a.title},e.title),e.children)},p=r.a.createElement("div",{className:Ve.a.addChildButton},r.a.createElement("button",{onClick:function(e){a(["addMember",{parentId:i.id}]),setTimeout(function(){return h(n.family.getNewest())})}},"Add Child")),E=r.a.createElement(r.a.Fragment,null,e.member.children.map(function(e){return r.a.createElement(Re,{member:e,key:e.id})}),!e.member.children.length&&r.a.createElement("div",{className:Ve.a.dithered},"No children")),_=r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,p,E)),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,v({title:"Name",children:b({configKey:"name",ref:f})}),v({title:"Birth",children:b({configKey:"born"})}),v({title:"Death",children:b({configKey:"died"})})),r.a.createElement("div",null,v({title:"Partner Name",children:b({configKey:"spouseName"})}),v({title:"Partner Birth",children:b({configKey:"spouseBorn"})}),v({title:"Partner Death",children:b({configKey:"spouseDied"})})),!e.root&&r.a.createElement(r.a.Fragment,null,v({title:"Member Adjustment",children:b({configKey:"offsetAngle",defaultValue:"0"}),className:Ve.a.inline4}),v({title:"Child Min Sibling Angle",children:b({configKey:"childrenMinAngleBetweenSibs",defaultValue:"0"}),className:Ve.a.inline4}),v({title:"Child Edge 1 Adjustment",children:b({configKey:"childEdge1Adjustment",defaultValue:"0"}),className:Ve.a.inline4}),v({title:"Child Edge 2 Adjustment",children:b({configKey:"childEdge2Adjustment",defaultValue:"0"}),className:Ve.a.inline4})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:Ve.a.childrenLabel},"Children"),p),r.a.createElement("div",null,E))),M=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ve.a.memberButton},r.a.createElement(Ke.b,{className:Ve.a.removeButton,onClick:function(e){if(window.confirm("Are you sure you want to remove ".concat(d,"?"))){var t=i.getDescendentIds(),n="This will also remove ".concat(t.length," descendent").concat(t.length>1?"s":"",", are you absolutely sure?");t.length&&!window.confirm(n)||(a(["removeMember",i.id]),h(i.parent))}},title:"Remove"})),r.a.createElement("div",{onClick:function(e){return g(e,1)},className:Ve.a.memberButton,title:"Move Down"},r.a.createElement(Ke.d,{className:i.isLastChild()?Ve.a.dithered:void 0})),r.a.createElement("div",{onClick:function(e){return g(e,-1)},className:Ve.a.memberButton,title:"Move Up"},r.a.createElement(Ke.c,{className:i.isFirstChild()?Ve.a.dithered:void 0})));return r.a.createElement("div",{className:s},r.a.createElement("div",{onClick:function(e){e.stopPropagation(),h(i.id===c.id?i.parent:i)}},r.a.createElement("div",{className:u},d),!e.root&&l&&M),l?y:_)}),ze=Re,Ye=function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch,i=r.a.useState(""),c=Object(o.a)(i,2),l=c[0],s=c[1],d=n.family.findByName(l)===n.selectedMember;return r.a.createElement("div",{className:Be.a.configFields},r.a.createElement("h3",null,"Labels"),r.a.createElement(Ae,{label:"Title",configKey:"title",attrs:{type:"text"}}),r.a.createElement(Ae,{label:"Subtitle",configKey:"subTitle",attrs:{type:"text"}}),r.a.createElement("h3",null,"Tree Settings"),r.a.createElement(Ae,{label:"Tree Size",configKey:"treeWidth",attrs:{placeholder:"px"}}),r.a.createElement(Ae,{label:"Tree Angle",configKey:"treeAngle",attrs:{placeholder:"degrees"}}),r.a.createElement(Ae,{label:"Edge Leaf Offset",configKey:"edgeLeafOffsetAngle",attrs:{placeholder:"degrees"}}),r.a.createElement(Ae,{label:"Min Sibling Angle",configKey:"minAngleBetweenSibs",attrs:{placeholder:"degrees"}}),r.a.createElement(Ae,{label:"Date Format",configKey:"dateFormat",attrs:{type:"text",placeholder:k.dateFormat}}),r.a.createElement(Ae,{label:"Squish Names Together",configKey:"wrapNames",attrs:{type:"checkbox"}}),r.a.createElement("h3",null,"Family Members",r.a.createElement("div",{className:Be.a.search},r.a.createElement("input",{onChange:function(e){var t=e.target.value.toLowerCase();s(t),a(["setSelectedMember",n.family.findByName(t)])},value:d?l:""}),r.a.createElement(Ke.h,{className:Be.a.searchIcon}))),r.a.createElement(ze,{member:n.family.rootMember,root:!0}))},Ge=n(113),We=n.n(Ge),Je=n(167),Ue=n(168),Xe=n.n(Ue),He=n(169),qe=n.n(He),Qe=function(e){var t=r.a.useContext(z).state,n=r.a.useState(!1),a=Object(o.a)(n,2),i=a[0],c=a[1],l=r.a.useRef(null),s=Object(m.a)({},t.config,{members:t.family.memberData}),d=function(){var e=Object(Je.a)(We.a.mark(function e(){var n,a,r;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),n=t.config.treeWidth,a=Math.max(n,n/2+600),r=function(e,t){return e.getElementById(t)},e.next=6,Xe()(document.getElementById("treeCanvas"),{scale:3,width:n,height:a,removeContainer:!1,onclone:function(e){r(e,"root").style.width="".concat(n,"px"),r(e,"root").style.height="".concat(a,"px"),r(e,"treeCanvas").style.width="".concat(n,"px"),r(e,"treeCanvas").style.height="".concat(a,"px")}});case 6:e.sent.toBlob(function(e){var n=document.createElement("a");if(document.body.appendChild(n),n.download="".concat(t.config.title,".png"),!e)throw Error("Something went wrong");n.href=window.URL.createObjectURL(e),n.click(),n.remove(),c(!1)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:qe.a.exportView},r.a.createElement("button",{onClick:function(){l.current.select(),document.execCommand("copy")}},"Copy Settings"),"\xa0",r.a.createElement("button",{onClick:function(){var e=t.family.memberData,n=Object.keys(e[0]).join(","),a="".concat(n,"\n").concat(e.map(function(e){return'"'.concat(Object.values(e).join('","'),'"')}).join("\n")),r=document.createElement("a");r.href="data:text/csv;charset=utf-8,"+encodeURI(a),r.target="_blank",r.download="".concat(t.config.title,".csv"),r.click()}},"Download Family CSV"),"\xa0",r.a.createElement("button",{onClick:d},i?"Generating...":"Download Printable Tree"),r.a.createElement("textarea",{ref:l,readOnly:!0,defaultValue:JSON.stringify(s)}))},Ze=n(114),$e=n.n(Ze),et=function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch,i=r.a.useState(),c=Object(o.a)(i,2),l=c[0],s=c[1],d=r.a.useState(),u=Object(o.a)(d,2),f=u[0],h=u[1],g=function(e){try{s(e);var t="{"===e.trim().substr(0,1)?JSON.parse(e):{members:x.parseCsv(e)};a(["importSettings",Object(m.a)({},n.config,t)]),h(null)}catch(f){h(f.toString())}},b=function(e){return g(e.target.value)};return r.a.createElement("div",{className:$e.a.exportView},r.a.createElement("button",{onClick:function(){return g(JSON.stringify(k))}},"Use blank"),r.a.createElement("textarea",{onChange:b,onInput:b,placeholder:"Paste exported settings or family CSV here",value:l}),f&&r.a.createElement("div",{className:$e.a.error},f))},tt=n(170),nt=n.n(tt),at=function(e){var t=u()(Fe.a.panelButton,nt.a.viewButton),n=e.view;return r.a.createElement("div",{className:t,onClick:function(){return e.setView(n)},title:D(e.view)},r.a.createElement(function(){return e.buttonIcon},null))},rt=function(e){var t=r.a.useContext(z),n=t.state,a=t.dispatch,i=e.menuOpen,c=function(e){return a(["setSelectedView",e])},o="".concat(Fe.a.panel).concat(i?"":" ".concat(Fe.a.closed)),l=n.config.zoom,s=function(e){return a(["setConfig",{zoom:l+e}])};return r.a.createElement("div",{className:o},r.a.createElement("div",{className:Fe.a.panelButtons},r.a.createElement("div",{className:Fe.a.panelButton,onClick:function(){return e.setMenuOpen(!i)},title:i?"Open Menu":"Close Menu"},i?r.a.createElement(Ke.a,null):r.a.createElement(Ke.g,null)),r.a.createElement("div",{className:Fe.a.panelButton,onClick:function(){return s(.1)},title:"Zoom In"},r.a.createElement(Ke.j,null)),r.a.createElement("div",{className:Fe.a.panelButton,onClick:function(){return s(-.1)},title:"Zoom Out"},r.a.createElement(Ke.k,null))),r.a.createElement("div",{className:Fe.a.content},r.a.createElement("div",{className:Fe.a.contentScroll},r.a.createElement("h1",null,D(n.selectedView),r.a.createElement(at,{view:P.EXPORT,buttonIcon:r.a.createElement(Ke.f,null),setView:c}),r.a.createElement(at,{view:P.IMPORT,buttonIcon:r.a.createElement(Ke.e,null),setView:c}),r.a.createElement(at,{view:P.SETTINGS,buttonIcon:r.a.createElement(Ke.i,null),setView:c})),n.selectedView===P.SETTINGS&&r.a.createElement(Ye,null),n.selectedView===P.IMPORT&&r.a.createElement(et,null),n.selectedView===P.EXPORT&&r.a.createElement(Qe,null))))},it=n(171),ct=n.n(it),ot=function(){var e=r.a.useState(!0),t=Object(o.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:ct.a.app},r.a.createElement(Y,null,r.a.createElement(G,{menuOpen:n},r.a.createElement(je,null),r.a.createElement(ke,null)),r.a.createElement(rt,{menuOpen:n,setMenuOpen:a})))};window.prompt("Password:")===atob("cm9vdHM=")&&c.a.render(r.a.createElement(ot,null),document.getElementById("root"))},79:function(e,t,n){e.exports={configField:"ConfigField_configField__35g0O"}},80:function(e,t,n){e.exports={leafNode:"LeafNode_leafNode__2NCvb",leafNodeImg:"LeafNode_leafNodeImg__PNbtv",thin:"LeafNode_thin__3TmOv"}},81:function(e,t,n){e.exports={rootNode:"RootNode_rootNode__1zf6l",member:"RootNode_member__M5kVV",spouse:"RootNode_spouse__3siYF"}},82:function(e,t,n){e.exports={configFields:"ConfigFields_configFields__BQwk3",search:"ConfigFields_search__2OVIk",searchIcon:"ConfigFields_searchIcon__1LeLJ"}}},[[174,1,2]]]);
//# sourceMappingURL=main.061f2ba7.chunk.js.map