{"version":3,"sources":["components/tree/ChildNode.module.css","components/menu/MemberField.module.css","components/menu/Panel.module.css","images/longLeaves1.svg","images/longLeaves2.svg","images/longLeaves3.svg","components/menu/ConfigField.module.css","components/tree/RootNode.module.css","components/menu/ConfigFields.module.css","components/tree/LeafNode.module.css","components/tree/Tree.module.css","components/tree/Title.module.css","components/menu/ImportView.module.css","components/TreeCanvas.module.css","components/tree/TreeNode.module.css","images/shortLeaves1.svg","images/shortLeaves2.svg","images/shortLeaves3.svg","images/shortLeaves4.svg","images/squareLeaf2.svg","components/tree/TreePie.module.css","components/menu/ExportView.module.css","components/menu/ViewButton.module.css","components/App.module.css","models/MemberData.js","models/FamilyMember.js","models/Family.js","config/blank.js","components/Context.js","components/TreeCanvas.js","components/tree/TreeNode.js","components/tree/ChildNode.js","components/tree/LeafNode.js","components/tree/RootNode.js","components/tree/TreePie.js","components/tree/Tree.js","components/tree/Title.js","util/helpers.js","components/menu/ConfigField.js","components/menu/MemberField.js","components/menu/ConfigFields.js","components/menu/ExportView.js","components/menu/ImportView.js","components/menu/ViewButton.js","components/menu/Panel.js","components/App.js","index.js"],"names":["module","exports","childNode","name","date","member","spouse","leaves","left","right","memberField","active","highlight","root","inline","reorderButton","removeButton","childrenLabel","addChildButton","dithered","panel","closed","panelButtons","panelButton","content","contentScroll","configFieldsWrapper","__webpack_require__","p","configField","rootNode","configFields","search","searchIcon","leafNode","leafNodeImg","tree","treeNodes","title","subTitle","error","treeCanvas","treeNode","treePie","exportView","viewButton","app","MemberData","props","arguments","length","undefined","Object","classCallCheck","this","defaultprops","id","born","died","spouseName","spouseBorn","parentId","offsetAngle","noBorder","validProps","keys","filter","key","includes","reduce","obj","objectSpread","defineProperty","assign","nextId","Math","max","FamilyMember","_this","possibleConstructorReturn","getPrototypeOf","call","assertThisInitialized","_this2","concat","toConsumableArray","children","map","child","getDescendentIds","flat","childId","maxChildId","Family","members","memberData","metadata","rootMember","input","Array","isArray","load","parseCsv","csvString","Papa","parse","header","data","rootData","row","Error","Member","getChildren","parent","_included","push","depth","forEach","badRow","console","nodeId","depthCounts","depthMinThetas","prevSiblings","handleChildren","ancestors","generationId","isCsv","siblings","sibling","prevSibling","nextSibling","find","maxMemberId","Number","NEGATIVE_INFINITY","get","toLowerCase","memberId","memberAndDescendants","positionOffset","fromMember","fromPosition","findIndex","toMember","toPosition","splice","Date","blank","debugMode","zoom","toLocaleString","month","getFullYear","treeWidth","treeHeight","treeAngle","minAngleBetweenSibs","childOffsetFactor","edgeLeafOffsetAngle","reducer","state","action","_ref","type","value","config","family","import","selectedMember","updateMember","addMember","removeMember","moveMember","initialState","defaultConfig","Context","React","createContext","ContextProvider","_React$useReducer","useReducer","_React$useReducer2","slicedToArray","dispatch","react_default","a","createElement","Provider","TreeCanvas","useContext","style","marginRight","menuOpen","zoomStyle","className","styles","TreeNode","leaves1","leaves2","leaves3","ChildNode","spouseDate","spouseDied","leftOrRightClassName","half","tree_TreeNode","hasTopBorder","src","top","alt","hasBottomBorder","bottom","smallLeaves","smallLeaves1","smallLeaves2","smallLeaves3","smallLeaves4","LeafNode","leafArray","size","RootNode","childStyles","TreePie","r","thetaEnd","PI","thetaStart","borderOffset","startX","cos","startY","sin","endX","endY","largeArcFlag","pathData","join","viewBox","patternUnits","width","height","href","pattern","x","y","d","fill","toRad","degrees","Tree","getChildNodePosition","parentCalc","calculations","parentSibCount","maxTheta","singleNodeTheta","theta","prevSiblingTheta","theta0","isRightHalf","log","polarToStyle","transform","treeStyle","treePieStyle","treeNodesStyle","childNodes","getChildNodes","all","tree_ChildNode","generationLeaves","leafNodes","offset","min","apply","slice","maxR","addRow","extraR","mod","leavesInRow","round","_","idx","tree_LeafNode","getGenerationLeaves","edgeLeaves","leftTheta","rightTheta","parseInt","getEdgeLeaves","tree_TreePie","tree_RootNode","Title","handleNumberFieldArrowKey","event","target","preventDefault","valueParts","match","number","parseFloat","multiplier","altKey","ctrlKey","newNumber","toTitleCase","string","split","w","toUpperCase","substr","ConfigField","_React$useContext","label","configKey","onChange","onKeyDown","MemberField","memo","isAncestorOfSelected","isActive","fieldStyles","nameClassName","nameField","useRef","setSelectedMember","onClickReorder","stopPropagation","onFieldChange","textInput","ref","defaultValue","onFieldKeyDown","onClick","setTimeout","getNewest","childrenFields","Fragment","collapsed","expanded","defaultChecked","checked","window","confirm","descendents","message","reorderButtons","index_esm","isLast","isFirst","ConfigFields","menu_ConfigField","searchString","findByName","menu_MemberField","ExportView","_React$useState","useState","_React$useState2","imgLoading","setImgLoading","textAreaEl","saveImg","asyncToGenerator","regenerator_default","mark","_callee","el","wrap","_context","prev","next","document","getElementById","html2canvas","scale","removeContainer","onclone","doc","sent","toBlob","blob","body","appendChild","download","URL","createObjectURL","click","remove","stop","current","select","execCommand","rows","headers","csv","values","encodeURI","readOnly","JSON","stringify","ImportView","text","setText","_React$useState3","_React$useState4","setError","importSettings","blankConfig","toString","onInput","placeholder","ViewButton","viewButtonClassName","cn","panelStyles","view","setView","buttonIcon","views","_len","strings","_key","makeEnum","Panel","SETTINGS","increaseZoom","amount","setMenuOpen","menu_ViewButton","EXPORT","IMPORT","menu_ConfigFields","menu_ImportView","menu_ExportView","App","Context_ContextProvider","components_TreeCanvas","tree_Tree","tree_Title","menu_Panel","ReactDOM","render","components_App"],"mappings":"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","file":"static/js/main.5ac08cd2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"childNode\":\"ChildNode_childNode__2bt90\",\"name\":\"ChildNode_name__3M_NH\",\"date\":\"ChildNode_date__1cwDA\",\"member\":\"ChildNode_member__1yhK-\",\"spouse\":\"ChildNode_spouse__2KTpq\",\"leaves\":\"ChildNode_leaves__ZZT_8\",\"left\":\"ChildNode_left__17s9O\",\"right\":\"ChildNode_right__Q1e22\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memberField\":\"MemberField_memberField__2nVi_\",\"active\":\"MemberField_active__1TvS4\",\"highlight\":\"MemberField_highlight__30ROD\",\"root\":\"MemberField_root__YJ2a9\",\"inline\":\"MemberField_inline__RsHU6\",\"name\":\"MemberField_name__1QjAq\",\"reorderButton\":\"MemberField_reorderButton__cxSHG\",\"removeButton\":\"MemberField_removeButton__DO7k9\",\"childrenLabel\":\"MemberField_childrenLabel__2uafD\",\"addChildButton\":\"MemberField_addChildButton__QaX3w\",\"dithered\":\"MemberField_dithered__zh91f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__1kvg6\",\"closed\":\"Panel_closed__7iION\",\"panelButtons\":\"Panel_panelButtons__1upgq\",\"panelButton\":\"Panel_panelButton__N0C6w\",\"content\":\"Panel_content__piQTi\",\"contentScroll\":\"Panel_contentScroll__1klMB\",\"configFieldsWrapper\":\"Panel_configFieldsWrapper__vLVwn\"};","module.exports = __webpack_public_path__ + \"static/media/longLeaves1.4fd1dca2.svg\";","module.exports = __webpack_public_path__ + \"static/media/longLeaves2.08958bfe.svg\";","module.exports = __webpack_public_path__ + \"static/media/longLeaves3.08c2ab5f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"configField\":\"ConfigField_configField__1tNtf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rootNode\":\"RootNode_rootNode__1H3Ke\",\"member\":\"RootNode_member__5dxim\",\"spouse\":\"RootNode_spouse__1uvYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"configFields\":\"ConfigFields_configFields__3F09L\",\"search\":\"ConfigFields_search__2Q27p\",\"searchIcon\":\"ConfigFields_searchIcon__253cc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leafNode\":\"LeafNode_leafNode__2Q0YH\",\"leafNodeImg\":\"LeafNode_leafNodeImg__1nwst\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tree\":\"Tree_tree__2X8I1\",\"treeNodes\":\"Tree_treeNodes__kMORa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__3sOns\",\"subTitle\":\"Title_subTitle__2R3KW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ImportView_error__HQq0w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treeCanvas\":\"TreeCanvas_treeCanvas__3fuRG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treeNode\":\"TreeNode_treeNode__3qR9V\",\"left\":\"TreeNode_left__2IE7J\"};","module.exports = __webpack_public_path__ + \"static/media/shortLeaves1.4565e04a.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves2.0daeb783.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves3.9a8ca7e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves4.f9655af9.svg\";","module.exports = __webpack_public_path__ + \"static/media/squareLeaf2.9ca5396f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treePie\":\"TreePie_treePie__2ygeH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"exportView\":\"ExportView_exportView__1t-Fw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewButton\":\"ViewButton_viewButton__1WvE8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1LGyN\"};","/**\n * Holds the config data needed to create a FamilyMember\n */\n\nclass MemberData {\n    constructor(props = {}) {\n        const defaultprops = {\n            id: undefined, // This will always be set below \n            name: \"New Member\",\n            born: \"\",\n            died: \"\",\n            spouseName: \"\",\n            spouseBorn: \"\",\n            parentId: undefined,\n            offsetAngle: undefined,\n            noBorder: undefined,\n        }\n        // Don't accept anything not included in defaultProps\n        const validProps = Object.keys(props)\n            .filter(key => Object.keys(defaultprops).includes(key))\n            .reduce((obj, key) => ({ ...obj, [key]: props[key] }), {});\n        Object.assign(this, { ...defaultprops, ...validProps });\n        if (this.id) {\n            MemberData.nextId = (Math.max(MemberData.nextId, this.id));\n        } else {\n            this.id = ++MemberData.nextId;\n        }\n    }\n}\n\nMemberData.nextId = 0;\n\nexport default MemberData;","import MemberData from './MemberData';\n\n/**\n * Adds functions and calculated fields onto MemberData\n */\n\nclass FamilyMember extends MemberData {\n    constructor(props = {}) {\n        super(props);\n        Object.assign(this, { ...props });\n    }\n\n    getDescendentIds(member = this) {\n        return [\n            ...member.children.map(child => child.id),\n            ...member.children.map(child => this.getDescendentIds(child))\n        ].flat();\n    }\n\n    isFirst() {\n        return this.childId === 1;\n    }\n\n    isLast() {\n        return this.childId === this.maxChildId;\n    }\n\n}\n\nexport default FamilyMember;","/**\n * Read CSV text or members config data and creates parent/child relationships\n * The \"children\" field is an array that is populated by matching \"name\" to \"parentName\"\n * This also adds calculated metadata fields that are needed to position nodes on the tree\n */\n\nimport Papa from 'papaparse';\nimport Member from './FamilyMember';\nimport MemberData from './MemberData';\n\n/**\n * Represents a collection of families. \n * All changes should be made to memberData then passed to load. This will create \n * a new members array which has additional relationships and calculated fields. \n */\nclass Family {\n\n    constructor(props) {\n        const defaultprops = {\n            members: [],\n            memberData: [], \n            metadata: undefined,\n            rootMember: undefined,\n        }\n        Object.assign(this, { ...defaultprops, ...props });\n    }\n\n    /**\n     * Wrapper for load with very lenient input\n     * - If it looks like a member array, call this.load\n     * - If it looks like a CSV, parse it and call this.load\n     * - Otherwise create only a root\n     */\n    import(input) {\n        if (Array.isArray(input)) {\n            return this.load(input);\n        } else if (typeof input === \"string\") {\n            return this.load(this.parseCsv(input));\n        } else {\n            return this.load([{}]);\n        }\n    }\n\n    parseCsv(csvString) {\n        const data = Papa.parse(csvString, { header: true }).data;\n        // todo: convert parentName to parentId\n        return data;\n\n    }\n\n    /**\n     * Populate members with memberData array \n     */\n    load(memberData) {\n\n        // Hold a copy of the original data\n        MemberData.nextId = 0;\n        this.memberData = [...memberData].map(data => new MemberData(data));\n\n        // FamilyMember objects\n        this.members = [];\n\n        // Create relationships\n        const getChildren = (parent) => this.memberData\n            .filter(row => parent.id && parent.id === row.parentId)\n            .map(child => {\n                const member = new Member(child);\n                member.parent = parent;\n                member.children = getChildren(member);\n                member._included = true;\n                this.members.push(member);\n                return member;\n            })\n        const rootData = this.memberData.filter(row => !row.parentId);\n        if (!rootData.length) throw Error(\"No roots found (members with no parent)\");\n        if (rootData.length > 1) throw Error(\"Multiple roots found (members with no parent)\");\n        this.rootMember = new Member(rootData[0]);\n        this.rootMember.children = getChildren(this.rootMember)\n        this.rootMember.depth = 0;\n        this.members.push(this.rootMember);\n\n        // Check for orphans, likely due to misspelled name or parentName in CSV\n        this.members\n            .filter(row => row !== this.rootMember & !row._included)\n            .forEach(badRow => console.error(`${badRow.name} is not included! parent: ${badRow.parentId}`))\n\n        // Calculate metadata, nodeIDs, and remove the temp _included field\n        let nodeId = 0;\n        this.metadata = { depthCounts: [1], depthMinThetas: [undefined] }\n        const prevSiblings = []; // These are generational siblings, it does not require same parent \n        const handleChildren = (children, depth = 0, ancestors = [1]) => {\n            depth++;\n            let childId = 0;\n            children.forEach(child => {\n                delete child._included;\n                const generationId = this.metadata.depthCounts[depth] + 1 || 1;\n                this.metadata.depthCounts[depth] = generationId;\n                child.generationId = generationId;\n                child.childId = ++childId;\n                child.maxChildId = children.length;\n                child.depth = depth;\n                child.nodeId = this.isCsv ? ++nodeId : child.id;\n                child.siblings = children.filter(sibling => sibling.id !== child.id);\n                child.prevSibling = prevSiblings[depth];\n                child.ancestors = ancestors;\n                child.nextSibling = undefined;\n                (prevSiblings[depth] || {}).nextSibling = child;\n                prevSiblings[depth] = child;\n                handleChildren(child.children, depth, [...ancestors, child.nodeId]);\n            })\n        };\n        handleChildren(this.rootMember.children);\n        return this;\n    }\n\n    get(id) {\n        return this.members.find((member) => member.id === id)\n    }\n\n    getNewest() {\n        const maxMemberId = this.members.reduce((max, member) => Math.max(max, member.id), Number.NEGATIVE_INFINITY);\n        return this.get(maxMemberId);\n    }\n\n    findByName(name) {\n        return name && this.members.find((member) =>\n            member.name.toLowerCase().includes(name) || member.spouseName.toLowerCase().includes(name)\n        )\n    }\n\n    addChild(parentId, props) {\n        if (this.get(parentId)) {\n            this.load([...this.memberData, { ...props, parentId: parentId, name: \"New Member\" }]);\n            // return this.get(parentId).children;\n        }\n    }\n\n    addMember(memberData) {\n        return this.load([...this.memberData, memberData]);\n    }\n\n    removeMember(memberId) {\n        const member = this.get(memberId);\n        const memberAndDescendants = [memberId, ...member.getDescendentIds()]\n        return this.load(this.memberData.filter(member => !memberAndDescendants.includes(member.id)));\n    }\n\n    updateMember(memberId, memberData) {\n        const member = this.memberData.find(member => member.id === memberId);\n        Object.assign(member, memberData);\n        return this.load(this.memberData);\n    }\n\n    moveMember(memberId, positionOffset) {\n        const fromMember = this.get(memberId);\n        const fromPosition = this.memberData.findIndex(member => member.id === memberId);\n        const toMember = fromMember.siblings.find(member => member.childId === fromMember.childId + positionOffset);\n        if (!toMember) return this;\n        const toPosition = this.memberData.findIndex(member => member.id === toMember.id);\n        this.memberData.splice(toPosition, 0, this.memberData.splice(fromPosition, 1)[0]);\n        return this.load(this.memberData);\n    }\n}\n\nexport default Family;","/**\n * Blank tree\n */\nconst date = new Date();\nexport default {\n  \"debugMode\": false,\n  \"zoom\": 1,\n  \"title\": \"My Family\",\n  \"subTitle\": `${date.toLocaleString('default', { month: 'long' })}, ${date.getFullYear()}`,\n  \"treeWidth\": 2000,\n  \"treeHeight\": 1000,\n  \"treeAngle\": 180,\n  \"minAngleBetweenSibs\": 5,\n  \"childOffsetFactor\": 1.0,\n  \"edgeLeafOffsetAngle\": 0,\n  \"members\": [{}]\n}","import React from \"react\";\nimport Family from '../models/Family';\nimport defaultConfig from './../config/blank';\n\nconst reducer = (state, action) => {\n    const [type, value] = [...action];\n    switch (type) {\n        case \"setConfig\":\n            return { ...state, config: { ...state.config, ...value } };\n        case \"importSettings\":\n            const family = state.family.import(value.members);\n            return { ...state, config: value, family: family };\n        case \"setSelectedMember\":\n            return { ...state, selectedMember: value };\n        case \"updateMember\":\n            return { ...state, family: state.family.updateMember(value.id, value.props) };\n        case \"addMember\":\n            return { ...state, family: state.family.addMember(value) };\n        case \"removeMember\":\n            return { ...state, family: state.family.removeMember(value) };\n        case \"moveMember\":\n            return { ...state, family: state.family.moveMember(value.id, value.positionOffset) };\n        default:\n            return;\n    }\n};\n\nconst initialState = {\n    family: new Family().import(defaultConfig.members),\n    config: defaultConfig,\n    selectedMember: {},\n};\n\nconst Context = React.createContext(initialState);\n\nconst ContextProvider = (props) => {\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    return (\n        <Context.Provider value={{ state, dispatch }} >\n            {props.children}\n        </Context.Provider >\n    );\n}\nexport { Context, ContextProvider };","import React from 'react';\nimport styles from './TreeCanvas.module.css';\nimport { Context } from './Context';\n\nconst TreeCanvas = (props) => {\n  const { state } = React.useContext(Context);\n  const style = { marginRight: props.menuOpen ? undefined : 0 }\n  const zoomStyle = { zoom: state.config.zoom };\n  return (\n    <div  id=\"treeCanvas\" className={styles.treeCanvas} style={style}>\n      <div style={zoomStyle}>\n        {props.children}\n      </div>\n    </div >\n  );\n}\n\nexport default TreeCanvas;\n","import React from 'react';\nimport styles from './TreeNode.module.css';\n\n/**\n * Any item that needs to be drawn on the tree including people and images \n */\nconst TreeNode = (props) => {\n  return (\n    <div className={styles.treeNode} style={props.style}>\n      <div className={props.className}>\n        {props.children}\n      </div>\n    </div>\n  );\n}\n\nexport default TreeNode;\n","import React from 'react';\nimport TreeNode from './TreeNode.js';\nimport styles from './ChildNode.module.css';\n\nimport leaves1 from '../../images/longLeaves1.svg';\nimport leaves2 from '../../images/longLeaves2.svg';\nimport leaves3 from '../../images/longLeaves3.svg';\nconst leaves = [leaves1, leaves2, leaves3];\n\n/**\n * A child and their spouse on the tree\n */\nconst ChildNode = (props) => {\n  const nbsp = '\\u00A0';\n  const name = (props.name || nbsp) + (props.spouseName ? ' +' : nbsp);\n  const date = props.born + (props.died ? ` - ${props.died}` : nbsp);\n  const spouseName = props.spouseName || nbsp;\n  const spouseDate = props.spouseBorn + (props.spouseDied ? ` - ${props.spouseDied}` : nbsp);\n  const leftOrRightClassName = styles[props.half] || nbsp;\n  return (\n    <TreeNode half={props.half} style={props.style} className={styles.childNode}>\n      {props.hasTopBorder && <img src={leaves[props.nodeId % 3]} className={`${styles.leaves} ${styles.top}`} alt=\"\" />}\n      <div className={leftOrRightClassName}>\n        <div className={styles.member}>\n          <div className={styles.name}>{name}</div>\n          <div className={styles.date}>{date}</div>\n        </div>\n        {styles.spouse && <div className={styles.spouse}>\n          <div className={styles.name}>{spouseName}</div>\n          <div className={styles.date}>{spouseDate}</div>\n        </div>}\n      </div>\n      {props.hasBottomBorder && <img src={leaves[(props.nodeId + 1) % 3]} className={`${styles.leaves} ${styles.bottom}`} alt=\"\" />}\n    </TreeNode >\n  );\n}\n\nexport default ChildNode;\n","import React from 'react';\nimport TreeNode from './TreeNode.js';\nimport styles from './LeafNode.module.css';\n\nimport leaves1 from '../../images/longLeaves1.svg';\nimport leaves2 from '../../images/longLeaves2.svg';\nimport leaves3 from '../../images/longLeaves3.svg';\n\nimport smallLeaves1 from '../../images/shortLeaves1.svg';\nimport smallLeaves2 from '../../images/shortLeaves2.svg';\nimport smallLeaves3 from '../../images/shortLeaves3.svg';\nimport smallLeaves4 from '../../images/shortLeaves4.svg';\n\nconst leaves = [leaves1, leaves2, leaves3];\nconst smallLeaves = [smallLeaves1, smallLeaves2, smallLeaves3, smallLeaves4];\n\n\n/**\n * A small leaf image to be drawn on the tree \n */\nconst LeafNode = (props) => {\n  const leafArray = props.size === \"small\" ? smallLeaves : leaves;\n  return (\n    <TreeNode style={props.style} className={styles.leafNode}>\n      <img\n        className={`${styles.leafNodeImg}`}\n        src={leafArray[props.id % leafArray.length]}\n        alt=\"\"\n      />\n    </TreeNode >\n  );\n}\n\nexport default LeafNode;\n","import React from 'react';\nimport styles from './RootNode.module.css';\nimport childStyles from './ChildNode.module.css';\n\n/**\n * A child and their spouse on the tree\n */\nconst RootNode = (props) => {\n  const name = (props.name || '');\n  const date = props.born + (props.died ? ` - ${props.died}` : '');\n  const spouseName = props.spouseName || '';\n  const spouseDate = props.spouseBorn + (props.spouseDied ? ` - ${props.spouseDied}` : '');\n  return (\n    <div className={styles.rootNode}>\n        <div className={`${childStyles.member} ${styles.member}`}>\n          <div className={childStyles.name}>{name}</div>\n          <div className={childStyles.date}>{date}</div>\n        </div>\n        <div className={`${childStyles.spouse} ${styles.spouse}`}>\n          <div className={childStyles.name}>{spouseName}</div>\n          <div className={childStyles.date}>{spouseDate}</div>\n        </div>\n    </div >\n  );\n}\n\nexport default RootNode;\n","import React from 'react';\nimport pattern from './../../images/squareLeaf2.svg';\nimport styles from './TreePie.module.css';\n\n/**\n * The pie chart that is the tree's background\n */\nconst TreePie = (props) => {\n\n  const r = props.r;\n  const thetaEnd = Math.PI * 2 + (Math.PI - props.thetaStart);\n  const borderOffset = Math.PI / 100;\n  const startX = Math.cos(props.thetaStart + borderOffset) * r\n  const startY = Math.sin(props.thetaStart + borderOffset) * r;\n  const endX = Math.cos(thetaEnd + borderOffset) * r;\n  const endY = Math.sin(thetaEnd + borderOffset) * r;\n  const largeArcFlag = thetaEnd - props.thetaStart > Math.PI ? 1 : 0;\n  const pathData = [\n    `M ${startX} ${startY}`, // Move\n    `A ${r} ${r} 0 ${largeArcFlag} 1 ${endX} ${endY}`, // Arc\n    `L 0 0`, // Line\n  ].join(' ');\n\n  // This is totally eyeballed since the viewport is size 2 the pattern needs to shrink\n  const patternWidth = 215 / 5;\n  const patternHeight = 162 / 5;\n\n  return (\n    <svg className={styles.treePie} style={props.style} viewBox=\"-100 -100 200 200\">\n      <defs>\n        <pattern id=\"leaf-square\" patternUnits=\"userSpaceOnUse\" width={patternWidth} height={patternHeight}>\n          <image href={pattern} x=\"0\" y=\"0\" width={patternWidth} height={patternHeight}/>\n        </pattern>\n      </defs>\n      <path d={pathData} fill='url(#leaf-square)' />\n      {/* <path d={pathData} fill='blue' /> */}\n    </svg>\n  );\n}\n\nexport default TreePie;\n","import React from 'react';\nimport ChildNode from './ChildNode.js';\nimport LeafNode from './LeafNode.js';\nimport RootNode from './RootNode.js';\nimport TreePie from './TreePie.js';\nimport styles from './Tree.module.css';\nimport { Context } from './../Context';\n\nconst toRad = (degrees) => degrees * (Math.PI / 180)\n\n/**\n * The tree and the things in it\n */\nconst Tree = (props) => {\n  const { state } = React.useContext(Context);\n  const config = state.config;\n  const rootMember = state.family.rootMember;\n  const metadata = state.family.metadata;\n\n  // Traverse the family tree and apend to the DOM's tree\n  let key = 0;\n  const getChildNodes = (children) => children.reduce((all, child) => {\n    child.calculations = getChildNodePosition(child);\n    const style = polarToStyle(child.calculations.r, child.calculations.theta);\n    all.push(<ChildNode {...child}\n      half={child.calculations.half}\n      style={style}\n      key={key++}\n      hasTopBorder={child.childId === 1 && !child.noBorder}\n      hasBottomBorder={child.childId === child.maxChildId && !child.noBorder}\n    />);\n    all.push(getChildNodes(child.children));\n    return all.flat();\n  }, []);\n\n  // Calculations about a child relative to the others\n  const getChildNodePosition = (child) => {\n    const parentCalc = child.parent.calculations;\n    const parentSibCount = child.parent.parent && child.parent.parent.children.length;\n    const maxTheta = parentCalc ? parentCalc.singleNodeTheta * parentSibCount : toRad(config.treeAngle);\n    const depth = child.depth;\n    const maxDepth = metadata.depthCounts.length;\n    const r = (100 / maxDepth) * child.depth;\n    const singleNodeTheta = maxTheta / Math.max(1, (metadata.depthCounts[depth] - 1));\n    const childId = child.childId;\n    const thetaStart = parentCalc ? parentCalc.theta : Math.PI + (Math.PI - maxTheta) / 2;\n    const prevSiblingTheta = (child.prevSibling && child.prevSibling.calculations.theta) || 0;\n    const offset = (childId - 1 - (parentCalc ? config.childOffsetFactor : 0));\n    const theta0 = thetaStart + singleNodeTheta * offset;\n    const theta1 = Math.max(prevSiblingTheta + toRad(config.minAngleBetweenSibs), theta0);\n    const theta = theta1 + toRad(child.offsetAngle || 0);\n    const isRightHalf = theta > (Math.PI + (Math.PI / 2));\n    if (depth === 1) {\n      console.log(child, singleNodeTheta, theta)\n    }\n    if (child.generationId === 1) {\n      metadata.depthMinThetas[depth] = theta;\n    }\n    return {\n      half: isRightHalf ? 'right' : 'left',\n      singleNodeTheta: singleNodeTheta,\n      theta: theta,\n      r: r\n    }\n  }\n\n  const polarToStyle = (r, theta) => {\n    const x = (r * Math.cos(theta)) / 2 + 50; // Half because it goes left AND right\n    const y = (r * Math.sin(theta)) + 100; // Not half because it only goes up\n    return {\n      left: `${x}%`,\n      top: `${y}%`,\n      transform: `rotate(${theta}rad)`\n    }\n  }\n\n  const getGenerationLeaves = () => {\n    const leafNodes = [];\n    const offset = Math.PI / 50;\n    const thetaStart = Math.min(...metadata.depthMinThetas.slice(1)) - offset;\n    const thetaEnd = Math.PI * 2 + (Math.PI - Math.min(...metadata.depthMinThetas.slice(1))) + offset;\n    let key = 0;\n    let maxR = 0;\n    const addRow = (depth, extraR = 0, mod = 1) => {\n      const leavesInRow = Math.round(depth * 25);\n      [...Array(leavesInRow)].forEach((_, idx) => {\n        if (!(idx % mod)) {\n          const r = ((100 / metadata.depthCounts.length) * depth) + 10 + extraR;\n          maxR = r < maxR || extraR ? maxR : r;\n          const theta = thetaStart + ((thetaEnd - thetaStart) / (leavesInRow - 1)) * idx;\n          const style = polarToStyle(r, theta);\n          leafNodes.push(<LeafNode key={++key} id={key} style={style} size=\"small\" />);\n        }\n      });\n\n    }\n    Object.keys(metadata.depthCounts).forEach((depth) => addRow(depth));\n    addRow(metadata.depthCounts.length - 1, 5, 2);\n    addRow(metadata.depthCounts.length - 1, 8, 5);\n    return {\n      leafNodes: leafNodes,\n      maxR: maxR\n    }\n  }\n\n  const getEdgeLeaves = () => {\n    const leafNodes = [];\n    const offset = Math.PI / 50;\n    const thetaStart = Math.min(...metadata.depthMinThetas.slice(1)) + offset;\n    const thetaEnd = Math.PI * 2 + (Math.PI - Math.min(...metadata.depthMinThetas.slice(1))) - offset;\n    const leftTheta = thetaStart - toRad(config.edgeLeafOffsetAngle)\n    const rightTheta = thetaEnd + toRad(config.edgeLeafOffsetAngle)\n    let key = 0;\n    [...Array(metadata.depthCounts.length)].forEach((_, depth) => {\n      // The \"edge\" leaves\n      if (parseInt(depth) !== 0) {\n        const r = ((100 / metadata.depthCounts.length) * depth) - 11\n        // Left side\n        leafNodes.push(<LeafNode id={++key} key={key} style={polarToStyle(r, leftTheta)} />);\n        // Right side\n        leafNodes.push(<LeafNode id={++key} key={key} style={polarToStyle(r, rightTheta)} />);\n      }\n    });\n    return {\n      leafNodes: leafNodes,\n      thetaStart: leftTheta\n    };\n  }\n\n\n  const treeWidth = `${config.treeWidth}px`;\n  const treeHeight = `${config.treeHeight}px`;\n\n  const treeStyle = {\n    width: treeWidth,\n    height: `calc(${treeHeight} + 460px)`,\n  }\n\n  const treePieStyle = {\n    width: treeWidth,\n    height: `calc(${treeHeight} * 2)`\n  }\n\n  const treeNodesStyle = {\n    width: treeWidth,\n    height: treeHeight\n  }\n\n  const childNodes = getChildNodes(rootMember.children);\n  const generationLeaves = getGenerationLeaves();\n  const edgeLeaves = getEdgeLeaves()\n\n  return (\n    <div className={styles.tree} style={treeStyle}>\n      {metadata.depthCounts.length > 1 && <TreePie style={treePieStyle} thetaStart={edgeLeaves.thetaStart} r={generationLeaves.maxR} />}\n      <div className={styles.treeNodes} style={treeNodesStyle}>\n        <RootNode {...rootMember} />\n        {childNodes}\n        {generationLeaves.leafNodes}\n        {edgeLeaves.leafNodes}\n      </div>\n    </div>\n  );\n}\n\nexport default Tree;\n","import React from 'react';\nimport styles from './Title.module.css';\nimport { Context } from './../Context';\n\n/**\n * The name of the family\n */\nconst Title = (props) => {\n  const { state } = React.useContext(Context);\n  const config = state.config\n  return (\n    <div className={styles.title} style={{ width: `${config.treeWidth}px` }}>\n      {config.title}\n      <div className={styles.subTitle}>\n        {config.subTitle}\n      </div>\n    </div>\n  );\n}\n\nexport default Title;\n","/**\n * Returns the new value \n */\nexport const handleNumberFieldArrowKey = (event) => {\n    if (!['ArrowUp', 'ArrowDown'].includes(event.key)) return event.target.value;\n    event.preventDefault();\n    const valueParts = event.target.value.match(/(.*?)(-?[.\\d]+)(.*)/);\n    if (!valueParts) return event.target.value;\n    const number = valueParts[2].includes('.') ? parseFloat(valueParts[2]) : parseInt(valueParts[2])\n    const multiplier = (event.altKey && 0.1) || (event.ctrlKey && 100) || 1;\n    const newNumber = number + (event.key === 'ArrowUp' ? multiplier : -multiplier);\n    return `${valueParts[1]}${Math.round(newNumber * 10) / 10}${valueParts[3]}`;\n}\n\n/**\n * Creates an object using an array of strings as both the key and value\n */\nexport const makeEnum = (...strings) => {\n    return strings.reduce((obj, string) => ({ ...obj, [string]: string }), {});\n}\n\nexport const toTitleCase = (string) =>\n    string.split(' ').map(w => w[0].toUpperCase() + w.substr(1).toLowerCase()).join(' ');","import React from 'react';\nimport styles from './ConfigField.module.css';\nimport { Context } from './../Context';\nimport { handleNumberFieldArrowKey } from '../../util/helpers';\n\n/**\n * Single field in the config panel\n */\nconst ConfigField = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  return (\n    <div className={styles.configField}>\n      <div>{props.label}</div>\n      <input\n        value={state.config[props.configKey]}\n        onChange={(event) => dispatch([\"setConfig\", { [props.configKey]: event.target.value }])}\n        onKeyDown={(event) => dispatch([\"setConfig\", { [props.configKey]: handleNumberFieldArrowKey(event) }])}\n      />\n    </div>\n  );\n}\n\nexport default ConfigField;\n","import React from 'react';\nimport fieldStyles from './ConfigField.module.css';\nimport styles from './MemberField.module.css';\nimport { MdExpandLess, MdExpandMore } from \"react-icons/md\";\nimport { Context } from './../Context';\nimport { handleNumberFieldArrowKey } from '../../util/helpers';\n\n/**\n * Represents a family member (plus their children)\n */\nconst MemberField = React.memo((props) => {\n\n  /**\n   * Helper vars\n   */\n  const { state, dispatch } = React.useContext(Context);\n  const member = props.member;\n  const selectedMember = state.selectedMember || {};\n  const isAncestorOfSelected = (selectedMember.ancestors || []).includes(member.id)\n  const isActive = member.id === selectedMember.id;\n  const className = `${fieldStyles.configField} ${styles.memberField} ${props.root ? styles.root : ''} ${isActive ? styles.active : ''}`\n  const name = member.name + (member.spouseName ? ' and ' : '') + member.spouseName;\n  const nameClassName = `${styles.name} ${isActive || isAncestorOfSelected ? styles.highlight : ''}`;\n  const updateMember = (props) => dispatch([\"updateMember\", { id: member.id, props }]);\n  const nameField = React.useRef()\n  const setSelectedMember = (member) => dispatch([\"setSelectedMember\", member || {}]);\n  // React.useEffect(() => nameField.current ? nameField.current.focus() : undefined, []);\n\n  /**\n   * Event handlers\n   */\n  const onClickExpand = (event) => {\n    event.stopPropagation();\n    setSelectedMember(member.id === selectedMember.id ? member.parent : member);\n  }\n\n  const onClickReorder = (event, positionOffset) => {\n    event.stopPropagation();\n    dispatch([\"moveMember\", { id: member.id, positionOffset: positionOffset }]);\n  }\n\n  const onClickRemove = (event) => {\n    if (!window.confirm(`Are you sure you want to remove ${name}?`)) return;\n    const descendents = member.getDescendentIds();\n    const message = `This will also remove ${descendents.length} descendent${descendents.length > 1 ? 's' : ''}, are you absolutely sure?`;\n    if (descendents.length && !window.confirm(message)) return;\n    dispatch([\"removeMember\", member.id]);\n    setSelectedMember(member.parent);\n  }\n\n  const onClickAddChild = (event) => {\n    dispatch([\"addMember\", { parentId: member.id }]);\n    // Sloppy but effective \n    setTimeout(() => setSelectedMember(state.family.getNewest()));\n  }\n  const onFieldChange = (event, key, value) => updateMember({ [key]: value === undefined ? event.target.value : value })\n  const onFieldKeyDown = (event, key) => updateMember({ [key]: handleNumberFieldArrowKey(event) });\n\n  /**\n   * Elements \n   */\n  const textInput = (props) => (<input ref={props.ref}\n    value={member[props.configKey] || props.defaultValue || ''}\n    onChange={(event) => onFieldChange(event, props.configKey)}\n    onKeyDown={(event) => onFieldKeyDown(event, props.configKey)}\n  />)\n\n  const addChildButton = (\n    <div className={styles.addChildButton}>\n      <button onClick={onClickAddChild}>Add Child</button>\n    </div>\n  );\n\n  const childrenFields = <>\n    {props.member.children.map(member => (\n      <MemberField member={member} key={member.id} />\n    ))}\n    {!props.member.children.length && <div className={styles.dithered}>No children</div>}\n  </>;\n\n  const collapsed = <>\n    {isAncestorOfSelected && <>\n      {addChildButton}\n      {childrenFields}\n    </>}\n  </>;\n\n  const expanded = <>\n    <div>\n      <div>Name / Birth / Death</div>\n      {textInput({ configKey: \"name\", ref: nameField })}\n      {textInput({ configKey: \"born\" })}\n      {textInput({ configKey: \"died\" })}\n    </div>\n    <div>\n      <div>Partner Name / Birth / Death</div>\n      {textInput({ configKey: \"spouseName\" })}\n      {textInput({ configKey: \"spouseBorn\" })}\n      {textInput({ configKey: \"spouseDied\" })}\n    </div>\n    {!props.root && <>\n      <div className={styles.inline}>\n        <div>Angle Adjustment</div>\n        {textInput({ configKey: \"offsetAngle\", defaultValue: \"0\" })}\n      </div>\n      <div className={styles.inline}>\n        <div>Hide Border</div>\n        <input\n          type=\"checkbox\"\n          defaultChecked={member.noBorder}\n          onChange={(event) => onFieldChange(event, \"noBorder\", event.target.checked)}>\n        </input>\n      </div>\n      <div className={`${styles.inline} ${styles.removeButton} `}>\n        <div>&nbsp;</div>\n        <button onClick={onClickRemove}>Remove</button>\n      </div>\n    </>}\n    <div>\n      <div>\n        <div className={styles.childrenLabel}>\n          Children\n        </div>\n        {addChildButton}\n      </div>\n      <div>\n        {childrenFields}\n      </div>\n    </div>\n  </>;\n\n  const reorderButtons = <>\n    <div onClick={(event) => onClickReorder(event, 1)} className={styles.reorderButton} title=\"Move Down\" >\n      <MdExpandMore className={member.isLast() ? styles.dithered : undefined} />\n    </div>\n    <div onClick={(event) => onClickReorder(event, -1)} className={styles.reorderButton} title=\"Move Up\">\n      <MdExpandLess className={member.isFirst() ? styles.dithered : undefined} />\n    </div>\n  </>;\n\n  return (\n    <div className={className}>\n      <div onClick={onClickExpand}>\n        <div className={nameClassName}>{name}</div>\n        {!props.root && isActive && reorderButtons}\n      </div>\n      {isActive ? expanded : collapsed}\n    </div >\n  );\n});\n\nexport default MemberField;\n","import React from 'react';\nimport styles from './ConfigFields.module.css';\nimport Field from './ConfigField';\nimport MemberField from './MemberField';\nimport { MdSearch } from \"react-icons/md\";\nimport { Context } from './../Context';\n\n/**\n * The fields in the menu\n */\nconst ConfigFields = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const searchMembers = (event) => {\n    const searchString = event.target.value.toLowerCase();\n    dispatch([\"setSelectedMember\", state.family.findByName(searchString)]);\n  }\n  return (\n    <div className={styles.configFields}>\n      <h3>Labels</h3>\n      <Field label=\"Title\" configKey=\"title\" />\n      <Field label=\"Subtitle\" configKey=\"subTitle\" />\n      <h3>Tree Math</h3>\n      <Field label=\"Width\" configKey=\"treeWidth\" />\n      <Field label=\"Height\" configKey=\"treeHeight\" />\n      <Field label=\"Tree Angle\" configKey=\"treeAngle\" />\n      <Field label=\"Edge Leaf Offset\" configKey=\"edgeLeafOffsetAngle\" />\n      <Field label=\"Min Sibling Angle\" configKey=\"minAngleBetweenSibs\" />\n      <Field label=\"Child Offset Factor\" configKey=\"childOffsetFactor\" />\n      <h3>\n        Family Members\n          <div className={styles.search} >\n          <input onChange={searchMembers} />\n          <MdSearch className={styles.searchIcon} />\n        </div>\n      </h3>\n      <MemberField member={state.family.rootMember} root={true} />\n    </div>\n  );\n}\n\nexport default ConfigFields;\n","import React from 'react';\nimport html2canvas from 'html2canvas';\nimport styles from './ExportView.module.css';\nimport { Context } from './../Context';\n\n/**\n * The fields in the menu\n */\nconst ExportView = (props) => {\n\n  const { state } = React.useContext(Context);\n  const [imgLoading, setImgLoading] = React.useState(false);\n  const textAreaEl = React.useRef(null);\n  const data = { ...state.config, members: state.family.memberData }\n  const copy = () => {\n    textAreaEl.current.select();\n    document.execCommand(\"copy\");\n  }\n  const saveCsv = () => {\n    const rows = state.family.memberData\n    const headers = Object.keys(rows[0]).join(\",\")\n    const csv = `${headers}\\n${rows.map(row => `\"${Object.values(row).join('\",\"')}\"`).join(\"\\n\")}`;\n    const a = document.createElement('a');\n    a.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n    a.target = '_blank';\n    a.download = `${state.config.title}.csv`;\n    a.click();\n  }\n  const saveImg = async () => {\n    setImgLoading(true);\n    const width = state.config.treeWidth;\n    // Make sure the tree trunk + words fit. TODO: Remove hardcoded 600.\n    const height = Math.max(state.config.treeHeight * 2, state.config.treeHeight + 600); \n    const el = (document, id) => document.getElementById(id);\n    const canvas = await html2canvas(document.getElementById('treeCanvas'), {\n      scale: 3,\n      width: width,\n      height: height,\n      removeContainer: false,\n      onclone: (doc) => {\n        el(doc, 'root').style.width = `${width}px`;\n        el(doc, 'root').style.height = `${height}px`;\n        el(doc, 'treeCanvas').style.width = `${width}px`;\n        el(doc, 'treeCanvas').style.height = `${height}px`;\n      },\n    });\n    canvas.toBlob((blob) => {\n      const a = document.createElement('a');\n      document.body.appendChild(a);\n      a.download = `${state.config.title}.png`;\n      a.href = window.URL.createObjectURL(blob);\n      a.click();\n      a.remove();\n      setImgLoading(false);\n    });\n  }\n\n  return (\n    <div className={styles.exportView}>\n      <button onClick={copy} >\n        Copy Settings\n      </button >\n      &nbsp;\n      <button onClick={saveCsv} >\n        Download Family CSV\n      </button >\n      &nbsp;\n      <button onClick={saveImg} >\n        {imgLoading ? 'Please wait...' : 'Download Printable Tree'}\n      </button >\n      <textarea ref={textAreaEl} readOnly defaultValue={JSON.stringify(data)} />\n    </div>\n  );\n}\n\nexport default ExportView;\n","import React from 'react';\nimport styles from './ImportView.module.css';\nimport blankConfig from '../../config/blank';\nimport { Context } from './../Context';\n\n/**\n * The fields in the menu\n */\nconst ImportView = (props) => {\n  const { dispatch } = React.useContext(Context);\n  const [text, setText] = React.useState();\n  const [error, setError] = React.useState();\n  const importSettings = (text) => {\n    try {\n      setText(text);\n      dispatch([\"importSettings\", { ...blankConfig, ...JSON.parse(text) }])\n      setError(null);\n    } catch (error) {\n      setError(error.toString());\n    }\n  }\n  const setBlank = () => importSettings('{}');\n  const onChange = (event) => importSettings(event.target.value);\n  return (\n    <div className={styles.exportView}>\n      <button onClick={setBlank} >\n        Use blank\n      </button >\n      <p><b>Caution</b>: Changes are made in realtime so typing in this box will completely erase current settings</p>\n      <textarea\n        onChange={onChange}\n        onInput={onChange}\n        placeholder=\"Paste exported settings here\"\n        value={text}\n      />\n      {error && <div className={styles.error}>{error}</div>}\n    </div >\n  );\n}\n\nexport default ImportView;\n","import React from 'react';\nimport cn from 'classnames';\nimport panelStyles from './Panel.module.css';\nimport styles from './ViewButton.module.css';\nimport { toTitleCase } from './../../util/helpers';\n\n/**\n * View buttons in the panel  \n */\nconst ViewButton = (props) => {\n  const viewButtonClassName = cn(panelStyles.panelButton, styles.viewButton);\n  const view = props.view;\n  const ButtonIcon = () => props.buttonIcon\n  return (\n    <div className={viewButtonClassName} onClick={() => props.setView(view)} title={toTitleCase(props.view)} >\n      <ButtonIcon />\n    </div >\n  );\n}\n\nexport default ViewButton;\n","import React from 'react';\nimport styles from './Panel.module.css';\nimport { Context } from './../Context';\nimport ConfigFields from './ConfigFields';\nimport ExportView from './ExportView';\nimport ImportView from './ImportView';\nimport ViewButton from './ViewButton';\nimport { makeEnum, toTitleCase } from './../../util/helpers';\nimport {\n  MdSettings, MdFileDownload, MdFileUpload, MdZoomIn, MdZoomOut, MdMenu, MdChevronRight\n} from \"react-icons/md\";\n\nconst views = makeEnum('SETTINGS', 'IMPORT', 'EXPORT');\n\n/**\n * Popout tools panel\n */\nconst Panel = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const menuOpen = props.menuOpen;\n  const [view, setView] = React.useState(views.SETTINGS); // Testing... default should be SETTINGS\n  const className = `${styles.panel}${menuOpen ? '' : ` ${styles.closed}`}`\n  const zoom = state.config.zoom;\n  const increaseZoom = (amount) => dispatch([\"setConfig\", { zoom: zoom + amount }])\n  return (\n    <div className={className}>\n      <div className={styles.panelButtons}>\n        <div className={styles.panelButton} onClick={() => props.setMenuOpen(!menuOpen)} title={menuOpen ? \"Open Menu\" : \"Close Menu\"}>\n          {menuOpen ? <MdChevronRight /> : <MdMenu />}\n        </div>\n        <div className={styles.panelButton} onClick={() => increaseZoom(+0.1)} title=\"Zoom In\">\n          <MdZoomIn />\n        </div>\n        <div className={styles.panelButton} onClick={() => increaseZoom(-0.1)} title=\"Zoom Out\">\n          <MdZoomOut />\n        </div>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.contentScroll}>\n          <h1>\n            {toTitleCase(view)}\n            <ViewButton view={views.EXPORT} buttonIcon={<MdFileUpload />} setView={setView} />\n            <ViewButton view={views.IMPORT} buttonIcon={<MdFileDownload />} setView={setView} />\n            <ViewButton view={views.SETTINGS} buttonIcon={<MdSettings />} setView={setView} />\n          </h1>\n          {view === views.SETTINGS && <ConfigFields />}\n          {view === views.IMPORT && <ImportView />}\n          {view === views.EXPORT && <ExportView />}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Panel;\n","import React from 'react';\nimport TreeCanvas from './TreeCanvas';\nimport Tree from './tree/Tree';\nimport Title from './tree/Title';\nimport ToolsPanel from './menu/Panel';\nimport styles from './App.module.css';\nimport { ContextProvider } from './Context';\n\n\n// TODO: \n// - Ability to rotate 90deg by generation  \n// - Support importing CSV \n// - Revert button on import page? or maybe a history\n\n\n/**\n * Wrapper component for full application\n */\nconst App = () => {\n  const [menuOpen, setMenuOpen] = React.useState(false); \n  return (\n    <div className={styles.app}>\n      <ContextProvider>\n        <TreeCanvas menuOpen={menuOpen}>\n          <Tree />\n          <Title />\n        </TreeCanvas>\n        <ToolsPanel menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n      </ContextProvider>\n    </div >\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}