{"version":3,"sources":["components/menu/MemberField.module.css","components/tree/Tree.module.css","components/tree/Title.module.css","components/menu/ImportView.module.css","components/tree/ChildNode.module.css","components/TreeCanvas.module.css","components/tree/TreeNode.module.css","images/longLeaves1.svg","images/longLeaves2.svg","images/longLeaves3.svg","images/shortLeaves1.svg","images/shortLeaves2.svg","images/shortLeaves3.svg","images/shortLeaves4.svg","images/squareLeaf2.svg","components/tree/TreePie.module.css","components/menu/ExportView.module.css","components/menu/ViewButton.module.css","components/App.module.css","components/menu/Panel.module.css","models/FamilyMemberData.js","models/FamilyMember.js","models/Generation.js","models/Family.js","config/blank.js","config/config.js","util/helpers.js","util/views.js","components/Context.js","components/TreeCanvas.js","components/tree/TreeNode.js","components/tree/ChildNode.js","components/tree/LeafNode.js","components/tree/RootNode.js","components/tree/TreePie.js","components/tree/Tree.js","components/tree/Title.js","components/menu/ConfigField.js","components/menu/MemberField.js","components/menu/ConfigFields.js","components/menu/ExportView.js","components/menu/ImportView.js","components/menu/ViewButton.js","components/menu/Panel.js","components/App.js","index.js","components/menu/ConfigField.module.css","components/tree/LeafNode.module.css","components/tree/RootNode.module.css","components/menu/ConfigFields.module.css"],"names":["module","exports","memberField","active","highlight","root","inline3","inline4","title","name","memberButton","removeButton","childrenLabel","addChildButton","dithered","tree","treeNodes","subTitle","error","childNode","date","inline","inlineBlock","leaves","top","bottom","left","right","treeCanvas","mouseDown","treeNode","__webpack_require__","p","treePie","exportView","viewButton","app","panel","closed","panelButtons","panelButton","content","contentScroll","configFieldsWrapper","FamilyMemberData","props","arguments","length","undefined","Object","classCallCheck","this","defaultprops","id","born","died","spouseName","spouseBorn","parentId","offsetAngle","childrenMinAngleBetweenSibs","childEdge1Adjustment","childEdge2Adjustment","validProps","keys","filter","key","includes","reduce","obj","objectSpread","defineProperty","assign","nextId","Math","max","FamilyMember","_this","possibleConstructorReturn","getPrototypeOf","call","assertThisInitialized","_this2","member","concat","toConsumableArray","children","map","child","getDescendentIds","flat","childId","maxChildId","generation","generationId","size","Generation","members","push","Family","memberData","generations","rootMember","MemberData","data","rootData","findRoot","Member","getChildren","parent","row","_included","depth","forEach","badRow","console","nodeId","prevSiblings","handleChildren","ancestors","addMember","isCsv","siblings","sibling","prevSibling","nextSibling","find","maxMemberId","Number","NEGATIVE_INFINITY","get","toLowerCase","load","memberId","memberAndDescendants","positionOffset","fromMember","fromPosition","findIndex","toMember","toPosition","splice","parseCsv","csvString","Papa","parse","header","validate","Array","isArray","Error","Date","config_blank","debugMode","zoom","toLocaleString","month","getFullYear","treeWidth","treeAngle","minAngleBetweenSibs","edgeLeafOffsetAngle","wrapNames","dateFormat","config","handleNumberFieldArrowKey","event","target","value","preventDefault","valueParts","match","number","parseFloat","parseInt","multiplier","altKey","ctrlKey","newNumber","round","toTitleCase","string","split","w","toUpperCase","substr","join","toType","JSON","e","formatDate","format","moment","blankConfig","makeEnum","_len","strings","_key","defaultConfig","localStorage","getItem","reducer","state","action","_ref","type","selectedView","views","SETTINGS","setItem","stringify","memberEls","family","selectedMember","updateMember","removeMember","moveMember","initialState","Context","React","createContext","ContextProvider","_React$useReducer","useReducer","_React$useReducer2","slicedToArray","dispatch","react_default","a","createElement","Provider","TreeCanvas","useContext","el","useRef","style","marginRight","menuOpen","zoomStyle","className","cn","styles","mouse","isDown","startX","startY","scrollLeft","startTop","mouseLeave","current","cursor","activeNode","nodeX","offsetLeft","offsetWidth","nodeY","offsetTop","offsetHeight","scroll","behavior","ref","onMouseDown","pageX","pageY","scrollTop","onMouseLeave","onMouseUp","onMouseMove","x","y","TreeNode","forwardRef","ChildNode","memo","_React$useContext","blank","showPlusSign","spouseDate","spouseDied","displayClassName","leftOrRightClassName","half","selectedMemberId","tree_TreeNode","spouse","leaves1","leaves2","leaves3","smallLeaves","smallLeaves1","smallLeaves2","smallLeaves3","smallLeaves4","LeafNode","leafArray","leafNode","leafNodeImg","classKey","src","alt","RootNode","rootNode","childStyles","TreePie","r","thetaEnd","PI","thetaStart","borderOffset","cos","sin","endX","endY","largeArcFlag","pathData","viewBox","patternUnits","width","height","href","pattern","d","fill","toRad","degrees","Tree","treeThetaStart","treeThetaEnd","getR","getGenerationCount","getChildNodeCalculations","parentCalc","calculations","parentSibCount","familyThetaLen","childThetaLen","prevSiblingTheta","theta","thetaAdjusted","polarToStyle","transform","treeHeight","treeStyle","treePieStyle","treeNodesStyle","childNodes","getChildNodes","all","tree_ChildNode","generationLeaves","leafNodes","maxR","addRow","extraR","mod","leavesInRow","_","idx","tree_LeafNode","getGenerationLeaves","edgeLeaves","firstChildCalc","leftTheta","lastChildCalc","slice","rightTheta","isFirst","isLast","getEdgeLeaves","tree_TreePie","tree_RootNode","Title","ConfigField","configField","label","configKey","onChange","attrs","checked","onKeyDown","MemberField","isAncestorOfSelected","isActive","fieldStyles","nameClassName","nameField","setSelectedMember","onClickReorder","stopPropagation","textInput","defaultValue","onFieldChange","onFieldKeyDown","inlineField","onClick","setTimeout","getNewest","childrenFields","Fragment","collapsed","expanded","memberButtons","index_esm","window","confirm","descendents","message","isLastChild","isFirstChild","ConfigFields","_React$useState","useState","_React$useState2","searchString","setSearchString","searchIsTrue","findByName","configFields","menu_ConfigField","placeholder","search","searchIcon","menu_MemberField","ExportView","imgLoading","setImgLoading","textAreaEl","saveImg","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","document","getElementById","html2canvas","scale","removeContainer","onclone","doc","sent","toBlob","blob","body","appendChild","download","URL","createObjectURL","click","remove","stop","apply","select","execCommand","rows","headers","csv","values","encodeURI","readOnly","ImportView","text","setText","_React$useState3","_React$useState4","setError","importSettings","settings","trim","toString","onInput","ViewButton","viewButtonClassName","panelStyles","view","setView","buttonIcon","Panel","increaseZoom","amount","setMenuOpen","menu_ViewButton","EXPORT","IMPORT","menu_ConfigFields","menu_ImportView","menu_ExportView","App","Context_ContextProvider","components_TreeCanvas","tree_Tree","tree_Title","menu_Panel","prompt","atob","ReactDOM","render","components_App","thin"],"mappings":"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","file":"static/js/main.061f2ba7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"memberField\":\"MemberField_memberField__1iOq4\",\"active\":\"MemberField_active__1YhGr\",\"highlight\":\"MemberField_highlight__fAJ0y\",\"root\":\"MemberField_root__mHAz9\",\"inline3\":\"MemberField_inline3__2CdJB\",\"inline4\":\"MemberField_inline4__1LOiQ\",\"title\":\"MemberField_title__1bgKp\",\"name\":\"MemberField_name__31Fgk\",\"memberButton\":\"MemberField_memberButton__18IBS\",\"removeButton\":\"MemberField_removeButton__o-nrx\",\"childrenLabel\":\"MemberField_childrenLabel__ppMhQ\",\"addChildButton\":\"MemberField_addChildButton__16uv0\",\"dithered\":\"MemberField_dithered__3aakj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tree\":\"Tree_tree__3hlMJ\",\"treeNodes\":\"Tree_treeNodes__3xeI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__26kXl\",\"subTitle\":\"Title_subTitle__2j7hW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ImportView_error__1iI9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"childNode\":\"ChildNode_childNode__wNnB_\",\"highlight\":\"ChildNode_highlight__2A8mB\",\"name\":\"ChildNode_name__2ug_4\",\"date\":\"ChildNode_date__1Vluh\",\"inline\":\"ChildNode_inline__1majW\",\"inlineBlock\":\"ChildNode_inlineBlock__2Gvgv\",\"leaves\":\"ChildNode_leaves__29ojg\",\"top\":\"ChildNode_top__HzY4u\",\"bottom\":\"ChildNode_bottom__2TtaQ\",\"left\":\"ChildNode_left__2pksp\",\"right\":\"ChildNode_right__1WZRD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treeCanvas\":\"TreeCanvas_treeCanvas__EBgHx\",\"mouseDown\":\"TreeCanvas_mouseDown__d_FVG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treeNode\":\"TreeNode_treeNode__29IcO\",\"left\":\"TreeNode_left__1zPjb\"};","module.exports = __webpack_public_path__ + \"static/media/longLeaves1.4fd1dca2.svg\";","module.exports = __webpack_public_path__ + \"static/media/longLeaves2.08958bfe.svg\";","module.exports = __webpack_public_path__ + \"static/media/longLeaves3.08c2ab5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves1.4565e04a.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves2.0daeb783.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves3.9a8ca7e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/shortLeaves4.f9655af9.svg\";","module.exports = __webpack_public_path__ + \"static/media/squareLeaf2.9ca5396f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treePie\":\"TreePie_treePie__N-zmj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"exportView\":\"ExportView_exportView__2RvvP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewButton\":\"ViewButton_viewButton__1gzeJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__MNXVh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__1dvdb\",\"closed\":\"Panel_closed__2cyp4\",\"panelButtons\":\"Panel_panelButtons__i6YCd\",\"panelButton\":\"Panel_panelButton__2-EZS\",\"content\":\"Panel_content__25PwW\",\"contentScroll\":\"Panel_contentScroll__39o-U\",\"configFieldsWrapper\":\"Panel_configFieldsWrapper__xXFyp\"};","/**\n * Holds the config data needed to create a FamilyMember\n */\n\nclass FamilyMemberData {\n    constructor(props = {}) {\n        const defaultprops = {\n            id: undefined, // This will always be set below \n            name: \"New Member\",\n            born: \"\",\n            died: \"\",\n            spouseName: \"\",\n            spouseBorn: \"\",\n            parentId: undefined,\n            offsetAngle: undefined,\n            childrenMinAngleBetweenSibs: undefined,\n            childEdge1Adjustment: undefined,\n            childEdge2Adjustment: undefined\n        }\n        // Don't accept anything not included in defaultProps\n        const validProps = Object.keys(props)\n            .filter(key => Object.keys(defaultprops).includes(key))\n            .reduce((obj, key) => ({ ...obj, [key]: props[key] }), {});\n        Object.assign(this, { ...defaultprops, ...validProps });\n        if (this.id) {\n            FamilyMemberData.nextId = (Math.max(FamilyMemberData.nextId, this.id));\n        } else {\n            this.id = ++FamilyMemberData.nextId;\n        }\n    }\n}\n\nFamilyMemberData.nextId = 0;\n\nexport default FamilyMemberData;","import FamilyMemberData from './FamilyMemberData';\n\n/**\n * Adds functions and calculated fields onto FamilyMemberData\n */\n\nclass FamilyMember extends FamilyMemberData {\n    constructor(props = {}) {\n        super(props);\n        Object.assign(this, { ...props });\n    }\n\n    getDescendentIds(member = this) {\n        return [\n            ...member.children.map(child => child.id),\n            ...member.children.map(child => this.getDescendentIds(child))\n        ].flat();\n    }\n\n    isFirstChild() {\n        return this.childId === 1;\n    }\n\n    isLastChild() {\n        return this.childId === this.maxChildId;\n    }\n\n    isFirst() {\n        return this.generation && this.generationId === 1;\n    }\n\n    isLast() {\n        return this.generation && this.generationId === this.generation.size();\n    }\n\n}\n\nexport default FamilyMember;","/**\n * Holds data about the members in a single depth/generation \n */\nclass Generation {\n\n    members = [];\n    \n    size() {\n        return this.members.length;\n    }\n\n    addMember(member) {\n        this.members.push(member);\n        member.generationId = this.size();\n    }\n}\n\nexport default Generation;\n","/**\n * Read CSV text or members config data and creates parent/child relationships\n * The \"children\" field is an array that is populated by matching \"name\" to \"parentName\"\n * This also calculates metadata for each generation \n */\n\nimport Papa from 'papaparse';\nimport Member from './FamilyMember';\nimport MemberData from './FamilyMemberData';\nimport Generation from './Generation';\n\n/**\n * Represents a collection of families. \n * All changes should be made to memberData then passed to load. This will create \n * a new members array which has additional relationships and calculated fields. \n */\nclass Family {\n\n    constructor(props) {\n        const defaultprops = {\n            members: [],\n            memberData: [],\n            generations: {},\n            rootMember: undefined,\n        }\n        Object.assign(this, { ...defaultprops, ...props });\n    }\n\n    /**\n     * Populate members with memberData array \n     */\n    load(memberData) {\n\n        // Hold a copy of the original data\n        MemberData.nextId = 0;\n        this.memberData = [...memberData].map(data => new MemberData(data));\n\n        // FamilyMember objects\n        this.members = [];\n        this.generations = {};\n\n        // Create relationships\n        const getChildren = (parent) => this.memberData\n            .filter(row => parent.id && parent.id === row.parentId)\n            .map(child => {\n                const member = new Member(child);\n                member.parent = parent;\n                member.children = getChildren(member);\n                member._included = true;\n                this.members.push(member);\n                return member;\n            })\n        const rootData = Family.findRoot(this.memberData);\n        this.rootMember = new Member(rootData[0]);\n        this.rootMember.children = getChildren(this.rootMember)\n        this.rootMember.depth = 0;\n        this.members.push(this.rootMember);\n\n        // Check for orphans, likely due to misspelled name or parentName in CSV\n        this.members\n            .filter(row => row !== this.rootMember & !row._included)\n            .forEach(badRow => console.error(`${badRow.name} is not included! parent: ${badRow.parentId}`))\n\n        // Calculate metadata, nodeIDs, and remove the temp _included field\n        let nodeId = 0;\n        const prevSiblings = []; // These are generational siblings, it does not require same parent \n        const handleChildren = (children, depth = 0, ancestors = [1]) => {\n            depth++;\n            let childId = 0;\n            children.forEach(child => {\n                delete child._included;\n                child.generation = this.generations[depth] = this.generations[depth] || new Generation();\n                child.generation.addMember(child);\n                child.childId = ++childId;\n                child.maxChildId = children.length;\n                child.depth = depth;\n                child.nodeId = this.isCsv ? ++nodeId : child.id;\n                child.siblings = children.filter(sibling => sibling.id !== child.id);\n                child.prevSibling = prevSiblings[depth];\n                child.ancestors = ancestors;\n                child.nextSibling = undefined;\n                (prevSiblings[depth] || {}).nextSibling = child;\n                prevSiblings[depth] = child;\n                handleChildren(child.children, depth, [...ancestors, child.nodeId]);\n            })\n        };\n        handleChildren(this.rootMember.children);\n        return this;\n    }\n\n    get(id) {\n        return this.members.find((member) => member.id === id)\n    }\n\n    getNewest() {\n        const maxMemberId = this.members.reduce((max, member) => Math.max(max, member.id), Number.NEGATIVE_INFINITY);\n        return this.get(maxMemberId);\n    }\n\n    getGenerationCount() {\n        return Object.keys(this.generations).length\n    }\n\n    findByName(name) {\n        return name && this.members.find((member) =>\n            member.name.toLowerCase().includes(name) || member.spouseName.toLowerCase().includes(name)\n        )\n    }\n\n    addChild(parentId, props) {\n        if (this.get(parentId)) {\n            this.load([...this.memberData, { ...props, parentId: parentId, name: \"New Member\" }]);\n            // return this.get(parentId).children;\n        }\n    }\n\n    addMember(memberData) {\n        return this.load([...this.memberData, memberData]);\n    }\n\n    removeMember(memberId) {\n        const member = this.get(memberId);\n        const memberAndDescendants = [memberId, ...member.getDescendentIds()]\n        return this.load(this.memberData.filter(member => !memberAndDescendants.includes(member.id)));\n    }\n\n    updateMember(memberId, memberData) {\n        const member = this.memberData.find(member => member.id === memberId);\n        Object.assign(member, memberData);\n        return this.load(this.memberData);\n    }\n\n    moveMember(memberId, positionOffset) {\n        const fromMember = this.get(memberId);\n        const fromPosition = this.memberData.findIndex(member => member.id === memberId);\n        const toMember = fromMember.siblings.find(member => member.childId === fromMember.childId + positionOffset);\n        if (!toMember) return this;\n        const toPosition = this.memberData.findIndex(member => member.id === toMember.id);\n        this.memberData.splice(toPosition, 0, this.memberData.splice(fromPosition, 1)[0]);\n        return this.load(this.memberData);\n    }\n}\n\n/**\n * Determine which node(s) are a root node\n */\nFamily.findRoot = (memberData) => {\n    return memberData.filter(row => !row.parentId);\n}\n\n/**\n * Read member data from comma or tab delimited text\n */\nFamily.parseCsv = (csvString) => {\n    const data = Papa.parse(csvString, { header: true }).data;\n    // todo: convert parentName to parentId\n    Family.validate(data);\n    return data;\n}\n\n/**\n * Validate input data can be loaded\n */\nFamily.validate = (memberData) => {\n    if (!Array.isArray(memberData)) throw Error('Family members must be a list');\n    const rootData = Family.findRoot(memberData);\n    if (!rootData.length) throw Error(\"No roots found (members with no parent)\");\n    if (rootData.length > 1) throw Error(\"Multiple roots found (members with no parent)\");\n}\n\nexport default Family;\n","/**\n * Blank tree\n */\nconst date = new Date();\nexport default {\n  \"debugMode\": false,\n  \"zoom\": 0.5,\n  \"title\": \"My Family\",\n  \"subTitle\": `${date.toLocaleString('en-us', { month: 'long' })}, ${date.getFullYear()}`,\n  \"treeWidth\": 2000,\n  \"treeAngle\": 180,\n  \"minAngleBetweenSibs\": 5,\n  \"edgeLeafOffsetAngle\": 0,\n  \"wrapNames\": false,\n  \"dateFormat\": \"MMMM D, YYYY\",\n  \"members\": [{}]\n}","/**\n * Update this file to change the default configuration for development\n */\nimport config from './blank';\nexport default config;","import moment from 'moment';\nimport blankConfig from './../config/blank';\n\n/**\n * Returns the new value \n */\nexport const handleNumberFieldArrowKey = (event) => {\n    if (!['ArrowUp', 'ArrowDown'].includes(event.key)) return event.target.value;\n    event.preventDefault();\n    const valueParts = event.target.value.match(/(.*?)(-?[.\\d]+)(.*)/);\n    if (!valueParts) return event.target.value;\n    const number = valueParts[2].includes('.') ? parseFloat(valueParts[2]) : parseInt(valueParts[2])\n    const multiplier = (event.altKey && 0.1) || (event.ctrlKey && 100) || 1;\n    const newNumber = number + (event.key === 'ArrowUp' ? multiplier : -multiplier);\n    return `${valueParts[1]}${Math.round(newNumber * 10) / 10}${valueParts[3]}`;\n}\n\n/**\n * Creates an object using an array of strings as both the key and value\n */\nexport const makeEnum = (...strings) => {\n    return strings.reduce((obj, string) => ({ ...obj, [string]: string }), {});\n}\n\nexport const toTitleCase = (string) =>\n    string.split(' ').map(w => (w[0] || '').toUpperCase() + w.substr(1).toLowerCase()).join(' ');\n\nexport const toType = (string) => {\n    try {\n        return JSON.parse(string);\n    } catch (e) {\n        return string;\n    }\n}\n\nexport const formatDate = (date, format) =>\n    date && moment(date, ['DDMMMMY', 'MMMMDDY']).format(format || blankConfig.dateFormat);","import { makeEnum } from './helpers'\nexport default makeEnum('SETTINGS', 'IMPORT', 'EXPORT');","import React from \"react\";\nimport Family from '../models/Family';\nimport config from './../config/config';\nimport views from './../util/views';\n\nconst defaultConfig = JSON.parse(localStorage.getItem('config')) || config;\n\nconst reducer = (state, action) => {\n    const [type, value] = [...action];\n    // Auto-save current state if on the settings page\n    if (state.selectedView === views.SETTINGS) {\n        localStorage.setItem('config', JSON.stringify(state.config));\n    }\n    switch (type) {\n        case \"setMemberEl\":\n            return { ...state, memberEls: { ...state.memberEls, ...value } }\n        case \"setConfig\":\n            return { ...state, config: { ...state.config, ...value } };\n        case \"importSettings\":\n            const family = state.family.load(value.members);\n            return { ...state, config: value, family: family };\n        case \"setSelectedMember\":\n            return { ...state, selectedMember: value };\n        case \"setSelectedView\":\n            return { ...state, selectedMember: null, selectedView: value };\n        case \"updateMember\":\n            return { ...state, family: state.family.updateMember(value.id, value.props) };\n        case \"addMember\":\n            return { ...state, family: state.family.addMember(value) };\n        case \"removeMember\":\n            return { ...state, family: state.family.removeMember(value) };\n        case \"moveMember\":\n            return { ...state, family: state.family.moveMember(value.id, value.positionOffset) };\n        default:\n            return;\n    }\n};\n\nconst initialState = {\n    config: defaultConfig,\n    family: new Family().load(defaultConfig.members),\n    members: [],\n    memberEls: {},\n    selectedMember: {},\n    selectedView: views.SETTINGS,\n};\n\nconst Context = React.createContext(initialState);\n\nconst ContextProvider = (props) => {\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    return (\n        <Context.Provider value={{ state, dispatch }} >\n            {props.children}\n        </Context.Provider >\n    );\n}\nexport { Context, ContextProvider };","import React from 'react';\nimport styles from './TreeCanvas.module.css';\nimport cn from 'classnames';\nimport { Context } from './Context';\n\nconst TreeCanvas = (props) => {\n  const { state } = React.useContext(Context);\n  const el = React.useRef();\n  const style = { marginRight: props.menuOpen ? undefined : 0 }\n  const zoom = state.config.zoom;\n  const zoomStyle = { zoom: zoom };\n  const className = cn(styles.treeCanvas, state.config.debugMode && 'debugMode');\n  const mouse = {\n    isDown: false,\n    startX: undefined,\n    startY: undefined,\n    scrollLeft: undefined,\n    startTop: undefined,\n  }\n\n  const mouseDown = (event) => {\n    el.current.style.cursor = 'grabbing';\n    mouse.isDown = true;\n    mouse.startX = event.pageX - el.current.offsetLeft;\n    mouse.startY = event.pageY - el.current.offsetTop;\n    mouse.scrollLeft = el.current.scrollLeft;\n    mouse.scrollTop = el.current.scrollTop;\n  };\n\n  const mouseLeave = () => {\n    el.current.style.cursor = '';\n    mouse.isDown = false\n  };\n\n  const mouseMove = (event) => {\n    if (!mouse.isDown) return;\n    event.preventDefault();\n    const x = event.pageX - el.current.offsetLeft;\n    const y = event.pageY - el.current.offsetTop;\n    el.current.scrollLeft = mouse.scrollLeft - (x - mouse.startX);\n    el.current.scrollTop = mouse.scrollTop - (y - mouse.startY);\n\n  };\n\n  if (el.current && state.selectedMember) {\n    const activeNode = state.memberEls[state.selectedMember.id];\n    if (activeNode) {\n      const nodeX = activeNode.offsetLeft + activeNode.offsetWidth / 2;\n      const nodeY = activeNode.offsetTop + activeNode.offsetHeight / 2;\n      el.current.scroll({\n        top: (nodeY * zoom) - (el.current.offsetHeight / 2 * zoom) / zoom,\n        left: (nodeX * zoom) - (el.current.offsetWidth / 2 * zoom) / zoom,\n        behavior: 'smooth'\n      });\n    }\n  }\n\n  return (\n    <div\n      id=\"treeCanvas\"\n      className={className}\n      style={style}\n      ref={el}\n      onMouseDown={mouseDown}\n      onMouseLeave={mouseLeave}\n      onMouseUp={mouseLeave}\n      onMouseMove={mouseMove}\n    >\n      <div style={zoomStyle}>\n        {props.children}\n      </div>\n    </div >\n  );\n}\n\nexport default TreeCanvas;\n","import React from 'react';\nimport styles from './TreeNode.module.css';\n\n/**\n * Any item that needs to be drawn on the tree including people and images \n */\nconst TreeNode = React.forwardRef((props, ref) => {\n  return (\n    <div ref={ref} className={styles.treeNode} style={props.style}>\n      <div className={props.className}>\n        {props.children}\n      </div>\n    </div>\n  );\n})\n\nexport default TreeNode;\n","import React from 'react';\nimport TreeNode from './TreeNode.js';\nimport styles from './ChildNode.module.css';\nimport cn from 'classnames';\nimport { formatDate } from './../../util/helpers';\nimport { Context } from './../Context';\n\n/**\n * A child and their spouse on the tree\n */\nconst ChildNode = React.memo((props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const ref = React.useRef();\n  const wrapNames = state.config.wrapNames;\n  const blank = wrapNames ? '' : '\\u00A0';\n  const showPlusSign = props.spouseName && !wrapNames;\n  const name = (props.name || blank) + (showPlusSign ? ' +' : blank);\n  const format = (date) => formatDate(date, state.config.dateFormat);\n  const date = format(props.born) + (props.died ? ` - ${format(props.died)}` : blank);\n  const spouseName = props.spouseName || blank;\n  const spouseDate = format(props.spouseBorn) + (props.spouseDied ? ` - ${format(props.spouseDied)}` : blank);\n  const displayClassName = wrapNames ? styles.inline : styles.inlineBlock;\n  const leftOrRightClassName = styles[props.half] || blank;\n  const selectedMemberId = (state.selectedMember || {}).id;\n  if (!state.memberEls[props.child.id]) {\n    dispatch([\"setMemberEl\", { [props.child.id]: ref.current }])\n  }\n  return (\n    <TreeNode ref={ref} style={props.style} className={styles.childNode}>\n      <div className={cn(leftOrRightClassName, props.id === selectedMemberId && styles.highlight)}>\n        <div className={cn(displayClassName, styles.member)}>\n          <div className={styles.name}>{name}</div>\n          <div className={styles.date}>{date}</div>\n        </div>\n        {props.spouseName && <div className={cn(displayClassName, styles.spouse)}>\n          <div className={styles.name}>{spouseName}</div>\n          <div className={styles.date}>{spouseDate}</div>\n        </div>}\n      </div>\n    </TreeNode >\n  );\n});\n\nexport default ChildNode;\n","import React from 'react';\nimport TreeNode from './TreeNode.js';\nimport styles from './LeafNode.module.css';\nimport cn from 'classnames';\n\nimport leaves1 from '../../images/longLeaves1.svg';\nimport leaves2 from '../../images/longLeaves2.svg';\nimport leaves3 from '../../images/longLeaves3.svg';\n\nimport smallLeaves1 from '../../images/shortLeaves1.svg';\nimport smallLeaves2 from '../../images/shortLeaves2.svg';\nimport smallLeaves3 from '../../images/shortLeaves3.svg';\nimport smallLeaves4 from '../../images/shortLeaves4.svg';\n\nconst leaves = [leaves1, leaves2, leaves3];\nconst smallLeaves = [smallLeaves1, smallLeaves2, smallLeaves3, smallLeaves4];\n\n\n/**\n * A small leaf image to be drawn on the tree \n */\nconst LeafNode = (props) => {\n  const leafArray = props.size === \"small\" ? smallLeaves : leaves;\n  return (\n    <TreeNode style={props.style} className={styles.leafNode}>\n      <img\n        className={cn(styles.leafNodeImg, styles[props.classKey])}\n        src={leafArray[props.id % leafArray.length]}\n        alt=\"\"\n      />\n    </TreeNode >\n  );\n}\n\nexport default LeafNode;\n","import React from 'react';\nimport styles from './RootNode.module.css';\nimport childStyles from './ChildNode.module.css';\nimport { formatDate } from './../../util/helpers';\nimport { Context } from './../Context';\n\n/**\n * A child and their spouse on the tree\n */\nconst RootNode = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const ref = React.useRef();\n  const name = (props.name || '');\n  const format = (date) => formatDate(date, state.config.dateFormat);\n  const date = format(props.born) + (props.died ? ` - ${format(props.died)}` : '');\n  const spouseName = props.spouseName || '';\n  const spouseDate = format(props.spouseBorn) + (props.spouseDied ? ` - ${format(props.spouseDied)}` : '');\n  if (!state.memberEls[props.id]) {\n    dispatch([\"setMemberEl\", { [props.id]: ref.current }])\n  }\n  return (\n    <div ref={ref} className={styles.rootNode}>\n      <div className={`${childStyles.member} ${styles.member}`}>\n        <div className={childStyles.name}>{name}</div>\n        <div className={childStyles.date}>{date}</div>\n      </div>\n      <div className={`${childStyles.spouse} ${styles.spouse}`}>\n        <div className={childStyles.name}>{spouseName}</div>\n        <div className={childStyles.date}>{spouseDate}</div>\n      </div>\n    </div >\n  );\n}\n\nexport default RootNode;\n","import React from 'react';\nimport pattern from './../../images/squareLeaf2.svg';\nimport styles from './TreePie.module.css';\n\n/**\n * The pie chart that is the tree's background\n */\nconst TreePie = (props) => {\n\n  const r = props.r;\n  const thetaEnd = Math.PI * 2 + (Math.PI - props.thetaStart);\n  const borderOffset = Math.PI / 100;\n  const startX = Math.cos(props.thetaStart + borderOffset) * r\n  const startY = Math.sin(props.thetaStart + borderOffset) * r;\n  const endX = Math.cos(thetaEnd + borderOffset) * r;\n  const endY = Math.sin(thetaEnd + borderOffset) * r;\n  const largeArcFlag = thetaEnd - props.thetaStart > Math.PI ? 1 : 0;\n  const pathData = [\n    `M ${startX} ${startY}`, // Move\n    `A ${r} ${r} 0 ${largeArcFlag} 1 ${endX} ${endY}`, // Arc\n    `L 0 0`, // Line\n  ].join(' ');\n\n  // This is totally eyeballed since the viewport is size 2 the pattern needs to shrink\n  const patternWidth = 215 / 5;\n  const patternHeight = 162 / 5;\n\n  return (\n    <svg className={styles.treePie} style={props.style} viewBox=\"-100 -100 200 200\">\n      <defs>\n        <pattern id=\"leaf-square\" patternUnits=\"userSpaceOnUse\" width={patternWidth} height={patternHeight}>\n          <image href={pattern} x=\"0\" y=\"0\" width={patternWidth} height={patternHeight}/>\n        </pattern>\n      </defs>\n      <path d={pathData} fill='url(#leaf-square)' />\n      {/* <path d={pathData} fill='blue' /> */}\n    </svg>\n  );\n}\n\nexport default TreePie;\n","import React from 'react';\nimport ChildNode from './ChildNode.js';\nimport LeafNode from './LeafNode.js';\nimport RootNode from './RootNode.js';\nimport TreePie from './TreePie.js';\nimport styles from './Tree.module.css';\nimport { Context } from './../Context';\n\nconst toRad = (degrees) => (degrees || 0) * (Math.PI / 180)\n\n/**\n * The tree and the things in it\n */\nconst Tree = (props) => {\n  const { state } = React.useContext(Context);\n  const config = state.config;\n  const family = state.family;\n  const rootMember = family.rootMember;\n  const treeThetaStart = Math.PI + (Math.PI - toRad(config.treeAngle)) / 2;\n  const treeThetaEnd = Math.PI * 2 - ((Math.PI - toRad(config.treeAngle)) / 2);\n  const getR = (depth) => (100 / (family.getGenerationCount() + 1)) * depth;\n\n  // Traverse the family tree and apend to the DOM's tree\n  let key = 0;\n  const getChildNodes = (children) => children.reduce((all, child) => {\n    child.calculations = getChildNodeCalculations(child);\n    const style = polarToStyle(child.calculations.r, child.calculations.theta);\n    all.push(<ChildNode {...child}\n      half={child.calculations.half}\n      style={style}\n      key={key++}\n      child={child}\n    />);\n    all.push(getChildNodes(child.children));\n    return all.flat();\n  }, []);\n\n  // Calculations about a child relative to the others\n  const getChildNodeCalculations = (child) => {\n    const parentCalc = child.parent.calculations;\n    const parentSibCount = child.parent.parent && child.parent.parent.children.length;\n    const familyThetaLen = parentCalc ? parentCalc.familyThetaLen / parentSibCount : toRad(config.treeAngle);\n    const childThetaLen = familyThetaLen / (child.siblings.length + 1);\n    const prevSiblingTheta = (child.prevSibling && child.prevSibling.calculations.theta) || 0;\n    const thetaStart = parentCalc ? parentCalc.theta - familyThetaLen / 2 : treeThetaStart;\n    const thetaAdjusted = Math.max(\n      thetaStart + childThetaLen * (child.childId - 0.5), // Where it \"should\" be\n      prevSiblingTheta + toRad(config.minAngleBetweenSibs), // With global minimum \n      prevSiblingTheta + toRad(child.parent.childrenMinAngleBetweenSibs) // With sibling-level minimum\n    ) + toRad(child.offsetAngle);\n    const r = getR(child.depth);\n    const isRightHalf = thetaAdjusted > (Math.PI + (Math.PI / 2));\n    return {\n      theta: thetaAdjusted,\n      r: r,\n      half: isRightHalf ? 'right' : 'left',\n      familyThetaLen: familyThetaLen,\n      childThetaLen: childThetaLen,\n    }\n  }\n\n  const polarToStyle = (r, theta) => {\n    const x = (r * Math.cos(theta)) / 2 + 50; // Half because it goes left AND right\n    const y = (r * Math.sin(theta)) + 100; // Not half because it only goes up\n    return {\n      left: `${x}%`,\n      top: `${y}%`,\n      transform: `rotate(${theta}rad)`\n    }\n  }\n\n  const getGenerationLeaves = () => {\n    const leafNodes = [];\n    let key = 0;\n    let maxR = 0;\n    const addRow = (depth, extraR = 0, mod = 1) => {\n      const leavesInRow = Math.round(depth * 25);\n      [...Array(leavesInRow)].forEach((_, idx) => {\n        if (!(idx % mod)) {\n          const r = getR(depth) + 10 + extraR;\n          maxR = r < maxR || extraR ? maxR : r;\n          const theta = treeThetaStart + ((treeThetaEnd - treeThetaStart) / (leavesInRow - 1)) * idx;\n          const style = polarToStyle(r, theta);\n          leafNodes.push(<LeafNode key={++key} id={key} style={style} size=\"small\" />);\n        }\n      });\n\n    }\n    // The regular \"rings\"\n    Object.keys(family.generations).forEach((depth) => addRow(depth));\n    // Fatten up the outer \"ring\"\n    addRow(family.getGenerationCount(), 5, 2);\n    addRow(family.getGenerationCount(), 8, 5);\n    return {\n      leafNodes: leafNodes,\n      maxR: maxR\n    }\n  }\n\n  const getEdgeLeaves = () => {\n    const leafNodes = [];\n    let key = 0;\n    // Edge of a set of siblings\n    family.members.forEach(member => {\n      if (!member.children.length || !member.parent) return;\n      const r = getR(member.depth + 1) - 11;\n      const firstChildCalc = member.children[0].calculations;\n      const leftTheta = firstChildCalc.theta - firstChildCalc.childThetaLen / 2 + toRad(member.childEdge1Adjustment);\n      const lastChildCalc = member.children.slice(-1)[0].calculations;\n      const rightTheta = lastChildCalc.theta + lastChildCalc.childThetaLen / 2 + toRad(member.childEdge2Adjustment);\n      if (!member.isFirst() && !(member.prevSibling && member.prevSibling.children.length))\n        leafNodes.push(<LeafNode id={++key} key={key} style={polarToStyle(r, leftTheta)} classKey=\"thin\" />);\n      if (!member.isLast())\n        leafNodes.push(<LeafNode id={++key} key={key} style={polarToStyle(r, rightTheta)} classKey=\"thin\" />);\n\n    });\n    // Edge of the tree\n    const leftTheta = treeThetaStart - toRad(config.edgeLeafOffsetAngle)\n    const rightTheta = treeThetaEnd + toRad(config.edgeLeafOffsetAngle)\n    Object.keys(family.generations).forEach(depth => {\n      const r = getR(depth) - 11\n      leafNodes.push(<LeafNode id={++key} key={key} style={polarToStyle(r, leftTheta)} />);\n      leafNodes.push(<LeafNode id={++key} key={key} style={polarToStyle(r, rightTheta)} />);\n    });\n    return leafNodes;\n  }\n\n  const treeWidth = `${config.treeWidth}px`;\n  const treeHeight = `${config.treeWidth / 2}px`;\n\n  const treeStyle = {\n    width: treeWidth,\n    height: `calc(${treeHeight} + 460px)`,\n  }\n\n  const treePieStyle = {\n    width: treeWidth,\n    height: `calc(${treeHeight} * 2)`\n  }\n\n  const treeNodesStyle = {\n    width: treeWidth,\n    height: treeHeight\n  }\n\n  const childNodes = getChildNodes(rootMember.children);\n  const generationLeaves = getGenerationLeaves();\n  const edgeLeaves = getEdgeLeaves();\n\n  return (\n    <div className={styles.tree} style={treeStyle}>\n      {family.getGenerationCount() > 1 && <TreePie style={treePieStyle} thetaStart={treeThetaStart} r={generationLeaves.maxR} />}\n      <div className={styles.treeNodes} style={treeNodesStyle}>\n        <RootNode {...rootMember} />\n        {childNodes}\n        {generationLeaves.leafNodes}\n        {edgeLeaves}\n      </div>\n    </div>\n  );\n}\n\nexport default Tree;\n","import React from 'react';\nimport styles from './Title.module.css';\nimport { Context } from './../Context';\n\n/**\n * The name of the family\n */\nconst Title = (props) => {\n  const { state } = React.useContext(Context);\n  const config = state.config\n  return (\n    <div className={styles.title} style={{ width: `${config.treeWidth}px` }}>\n      {config.title}\n      <div className={styles.subTitle}>\n        {config.subTitle}\n      </div>\n    </div>\n  );\n}\n\nexport default Title;\n","import React from 'react';\nimport styles from './ConfigField.module.css';\nimport { Context } from './../Context';\nimport { handleNumberFieldArrowKey, toType } from '../../util/helpers';\n\n/**\n * Single field in the config panel\n */\nconst ConfigField = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const onChange = (event) => {\n    const value = (props.attrs || {}).type === \"checkbox\" ? event.target.checked : event.target.value\n    dispatch([\"setConfig\", { [props.configKey]: toType(value) }])\n  };\n  const onKeyDown = (event) => dispatch([\"setConfig\", { [props.configKey]: toType(handleNumberFieldArrowKey(event)) }]);\n  return (\n    <div className={styles.configField}>\n      <div>{props.label}</div>\n      <input\n        value={state.config[props.configKey] || ''}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        type='number'\n        {...props.attrs}\n      />\n    </div>\n  );\n}\n\nexport default ConfigField;\n","import React from 'react';\nimport fieldStyles from './ConfigField.module.css';\nimport styles from './MemberField.module.css';\nimport { MdExpandLess, MdExpandMore, MdDeleteForever } from \"react-icons/md\";\nimport { Context } from './../Context';\nimport { handleNumberFieldArrowKey } from '../../util/helpers';\n\n/**\n * Represents a family member (plus their children)\n */\nconst MemberField = React.memo((props) => {\n\n  /**\n   * Helper vars\n   */\n  const { state, dispatch } = React.useContext(Context);\n  const member = props.member;\n  const selectedMember = state.selectedMember || {};\n  const isAncestorOfSelected = (selectedMember.ancestors || []).includes(member.id)\n  const isActive = member.id === selectedMember.id;\n  const className = `${fieldStyles.configField} ${styles.memberField} ${props.root ? styles.root : ''} ${isActive ? styles.active : ''}`\n  const name = member.name + (member.spouseName ? ' and ' : '') + member.spouseName;\n  const nameClassName = `${styles.name} ${isActive || isAncestorOfSelected ? styles.highlight : ''}`;\n  const updateMember = (props) => dispatch([\"updateMember\", { id: member.id, props }]);\n  const nameField = React.useRef()\n  const setSelectedMember = (member) => dispatch([\"setSelectedMember\", member || {}]);\n  // React.useEffect(() => nameField.current ? nameField.current.focus() : undefined, []);\n\n\n  /**\n   * Event handlers\n   */\n  const onClickExpand = (event) => {\n    event.stopPropagation();\n    setSelectedMember(member.id === selectedMember.id ? member.parent : member);\n  }\n\n  const onClickReorder = (event, positionOffset) => {\n    event.stopPropagation();\n    dispatch([\"moveMember\", { id: member.id, positionOffset: positionOffset }]);\n  }\n\n  const onClickRemove = (event) => {\n    if (!window.confirm(`Are you sure you want to remove ${name}?`)) return;\n    const descendents = member.getDescendentIds();\n    const message = `This will also remove ${descendents.length} descendent${descendents.length > 1 ? 's' : ''}, are you absolutely sure?`;\n    if (descendents.length && !window.confirm(message)) return;\n    dispatch([\"removeMember\", member.id]);\n    setSelectedMember(member.parent);\n  }\n\n  const onClickAddChild = (event) => {\n    dispatch([\"addMember\", { parentId: member.id }]);\n    // Sloppy but effective \n    setTimeout(() => setSelectedMember(state.family.getNewest()));\n  }\n  const onFieldChange = (event, key, value) => updateMember({ [key]: value === undefined ? event.target.value : value })\n  const onFieldKeyDown = (event, key) => updateMember({ [key]: handleNumberFieldArrowKey(event) });\n\n  /**\n   * Elements - Using functions instead of react components because they don't re-render on change \n   */\n  const textInput = (props) => (\n    <input ref={props.ref}\n      value={member[props.configKey] || props.defaultValue || ''}\n      onChange={(event) => onFieldChange(event, props.configKey)}\n      onKeyDown={(event) => onFieldKeyDown(event, props.configKey)}\n    />\n  );\n\n  const inlineField = (props) => (\n    <div className={props.className || styles.inline3}>\n      <div className={styles.title}>{props.title}</div>\n      {props.children}\n    </div>\n  );\n\n  const addChildButton = (\n    <div className={styles.addChildButton}>\n      <button onClick={onClickAddChild}>Add Child</button>\n    </div>\n  );\n\n  const childrenFields = <>\n    {props.member.children.map(member => (\n      <MemberField member={member} key={member.id} />\n    ))}\n    {!props.member.children.length && <div className={styles.dithered}>No children</div>}\n  </>;\n\n  const collapsed = <>\n    {isAncestorOfSelected && <>\n      {addChildButton}\n      {childrenFields}\n    </>}\n  </>;\n\n  const expanded = <>\n    <div>\n      {inlineField({\n        title: \"Name\",\n        children: textInput({ configKey: \"name\", ref: nameField })\n      })}\n      {inlineField({\n        title: \"Birth\",\n        children: textInput({ configKey: \"born\" })\n      })}\n      {inlineField({\n        title: \"Death\",\n        children: textInput({ configKey: \"died\" })\n      })}\n    </div>\n    <div>\n      {inlineField({\n        title: \"Partner Name\",\n        children: textInput({ configKey: \"spouseName\" })\n      })}\n      {inlineField({\n        title: \"Partner Birth\",\n        children: textInput({ configKey: \"spouseBorn\" })\n      })}\n      {inlineField({\n        title: \"Partner Death\",\n        children: textInput({ configKey: \"spouseDied\" })\n      })}\n    </div>\n    {!props.root && <>\n      {inlineField({\n        title: \"Member Adjustment\",\n        children: textInput({ configKey: \"offsetAngle\", defaultValue: \"0\" }),\n        className: styles.inline4\n      })}\n      {inlineField({\n        title: \"Child Min Sibling Angle\",\n        children: textInput({ configKey: \"childrenMinAngleBetweenSibs\", defaultValue: \"0\" }),\n        className: styles.inline4\n      })}\n      {inlineField({\n        title: \"Child Edge 1 Adjustment\",\n        children: textInput({ configKey: \"childEdge1Adjustment\", defaultValue: \"0\" }),\n        className: styles.inline4\n      })}\n      {inlineField({\n        title: \"Child Edge 2 Adjustment\",\n        children: textInput({ configKey: \"childEdge2Adjustment\", defaultValue: \"0\" }),\n        className: styles.inline4\n      })}\n    </>}\n    <div>\n      <div>\n        <div className={styles.childrenLabel}>\n          Children\n        </div>\n        {addChildButton}\n      </div>\n      <div>\n        {childrenFields}\n      </div>\n    </div>\n  </>;\n\n  const memberButtons = <>\n    <div className={styles.memberButton}>\n      <MdDeleteForever className={styles.removeButton} onClick={onClickRemove} title=\"Remove\" />\n    </div>\n    <div onClick={(event) => onClickReorder(event, 1)} className={styles.memberButton} title=\"Move Down\" >\n      <MdExpandMore className={member.isLastChild() ? styles.dithered : undefined} />\n    </div>\n    <div onClick={(event) => onClickReorder(event, -1)} className={styles.memberButton} title=\"Move Up\">\n      <MdExpandLess className={member.isFirstChild() ? styles.dithered : undefined} />\n    </div>\n  </>;\n\n  return (\n    <div className={className}>\n      <div onClick={onClickExpand}>\n        <div className={nameClassName}>{name}</div>\n        {!props.root && isActive && memberButtons}\n      </div>\n      {isActive ? expanded : collapsed}\n    </div >\n  );\n});\n\nexport default MemberField;\n","import React from 'react';\nimport styles from './ConfigFields.module.css';\nimport Field from './ConfigField';\nimport MemberField from './MemberField';\nimport blankConfig from './../../config/blank';\nimport { MdSearch } from \"react-icons/md\";\nimport { Context } from \"./../Context\";\n\n/**\n * The fields in the menu\n */\nconst ConfigFields = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const [searchString, setSearchString] = React.useState(\"\");\n  const searchMembers = (event) => {\n    const searchString = event.target.value.toLowerCase();\n    setSearchString(searchString);\n    dispatch([\"setSelectedMember\", state.family.findByName(searchString)]);\n  }\n  const searchIsTrue = state.family.findByName(searchString) === state.selectedMember;\n  return (\n    <div className={styles.configFields}>\n      <h3>Labels</h3>\n      <Field label=\"Title\" configKey=\"title\" attrs={{ type: \"text\" }} />\n      <Field label=\"Subtitle\" configKey=\"subTitle\" attrs={{ type: \"text\" }} />\n      <h3>Tree Settings</h3>\n      <Field label=\"Tree Size\" configKey=\"treeWidth\" attrs={{ placeholder: 'px' }} />\n      <Field label=\"Tree Angle\" configKey=\"treeAngle\" attrs={{ placeholder: 'degrees' }} />\n      <Field label=\"Edge Leaf Offset\" configKey=\"edgeLeafOffsetAngle\" attrs={{ placeholder: 'degrees' }} />\n      <Field label=\"Min Sibling Angle\" configKey=\"minAngleBetweenSibs\" attrs={{ placeholder: 'degrees' }} />\n      <Field label=\"Date Format\" configKey=\"dateFormat\" attrs={{ type: \"text\", placeholder: blankConfig.dateFormat }} />\n      <Field label=\"Squish Names Together\" configKey=\"wrapNames\" attrs={{ type: \"checkbox\" }} />\n      <h3>\n        Family Members\n          <div className={styles.search} >\n          <input onChange={searchMembers} value={searchIsTrue ? searchString : ''} />\n          <MdSearch className={styles.searchIcon} />\n        </div>\n      </h3>\n      <MemberField member={state.family.rootMember} root={true} />\n    </div>\n  );\n}\n\nexport default ConfigFields;\n","import React from 'react';\nimport html2canvas from 'html2canvas';\nimport styles from './ExportView.module.css';\nimport { Context } from './../Context';\n\n/**\n * The fields in the menu\n */\nconst ExportView = (props) => {\n\n  const { state } = React.useContext(Context);\n  const [imgLoading, setImgLoading] = React.useState(false);\n  const textAreaEl = React.useRef(null);\n  const data = { ...state.config, members: state.family.memberData }\n  const copy = () => {\n    textAreaEl.current.select();\n    document.execCommand(\"copy\");\n  }\n  const saveCsv = () => {\n    const rows = state.family.memberData\n    const headers = Object.keys(rows[0]).join(\",\")\n    const csv = `${headers}\\n${rows.map(row => `\"${Object.values(row).join('\",\"')}\"`).join(\"\\n\")}`;\n    const a = document.createElement('a');\n    a.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n    a.target = '_blank';\n    a.download = `${state.config.title}.csv`;\n    a.click();\n  }\n  const saveImg = async () => {\n    setImgLoading(true);\n    const width = state.config.treeWidth;\n    // Make sure the tree trunk + words fit\n    const height = Math.max(width, width / 2 + 600);\n    const el = (document, id) => document.getElementById(id);\n    const canvas = await html2canvas(document.getElementById('treeCanvas'), {\n      scale: 3,\n      width: width,\n      height: height,\n      removeContainer: false,\n      onclone: (doc) => {\n        el(doc, 'root').style.width = `${width}px`;\n        el(doc, 'root').style.height = `${height}px`;\n        el(doc, 'treeCanvas').style.width = `${width}px`;\n        el(doc, 'treeCanvas').style.height = `${height}px`;\n      },\n    });\n\n    canvas.toBlob(blob => {\n      const a = document.createElement('a');\n      document.body.appendChild(a);\n      a.download = `${state.config.title}.png`;\n      if (!blob) throw Error(\"Something went wrong\");\n      a.href = window.URL.createObjectURL(blob);\n      a.click();\n      a.remove();\n      setImgLoading(false);\n    });\n  }\n\n  return (\n    <div className={styles.exportView}>\n      <button onClick={copy} >\n        Copy Settings\n      </button >\n      &nbsp;\n      <button onClick={saveCsv} >\n        Download Family CSV\n      </button >\n      &nbsp;\n      <button onClick={saveImg} >\n        {imgLoading ? 'Generating...' : 'Download Printable Tree'}\n      </button >\n      <textarea ref={textAreaEl} readOnly defaultValue={JSON.stringify(data)} />\n    </div>\n  );\n}\n\nexport default ExportView;\n","import React from 'react';\nimport styles from './ImportView.module.css';\nimport blankConfig from '../../config/blank';\nimport Family from '../../models/Family';\nimport { Context } from './../Context';\n\n/**\n * The fields in the menu\n */\nconst ImportView = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const [text, setText] = React.useState();\n  const [error, setError] = React.useState();\n  const importSettings = (text) => {\n    try {\n      setText(text);\n      const settings = text.trim().substr(0, 1) === \"{\" ? JSON.parse(text) : { members: Family.parseCsv(text) };\n      dispatch([\"importSettings\", { ...state.config, ...settings }])\n      setError(null);\n    } catch (error) {\n      setError(error.toString());\n    }\n  }\n  const setBlank = () => importSettings(JSON.stringify(blankConfig));\n  const onChange = (event) => importSettings(event.target.value);\n  return (\n    <div className={styles.exportView}>\n      <button onClick={setBlank} >\n        Use blank\n      </button >\n      <textarea\n        onChange={onChange}\n        onInput={onChange}\n        placeholder=\"Paste exported settings or family CSV here\"\n        value={text}\n      />\n      {error && <div className={styles.error}>{error}</div>}\n    </div >\n  );\n}\n\nexport default ImportView;\n","import React from 'react';\nimport cn from 'classnames';\nimport panelStyles from './Panel.module.css';\nimport styles from './ViewButton.module.css';\nimport { toTitleCase } from './../../util/helpers';\n\n/**\n * View buttons in the panel  \n */\nconst ViewButton = (props) => {\n  const viewButtonClassName = cn(panelStyles.panelButton, styles.viewButton);\n  const view = props.view;\n  const ButtonIcon = () => props.buttonIcon\n  return (\n    <div className={viewButtonClassName} onClick={() => props.setView(view)} title={toTitleCase(props.view)} >\n      <ButtonIcon />\n    </div >\n  );\n}\n\nexport default ViewButton;\n","import React from 'react';\nimport styles from './Panel.module.css';\nimport { Context } from './../Context';\nimport ConfigFields from './ConfigFields';\nimport ExportView from './ExportView';\nimport ImportView from './ImportView';\nimport ViewButton from './ViewButton';\nimport { toTitleCase } from './../../util/helpers';\nimport views from './../../util/views';\nimport {\n  MdSettings, MdFileDownload, MdFileUpload, MdZoomIn, MdZoomOut, MdMenu, MdChevronRight\n} from \"react-icons/md\";\n\n/**\n * Popout tools panel\n */\nconst Panel = (props) => {\n  const { state, dispatch } = React.useContext(Context);\n  const menuOpen = props.menuOpen;\n  const setView = (view) => dispatch([\"setSelectedView\", view])\n  const className = `${styles.panel}${menuOpen ? '' : ` ${styles.closed}`}`\n  const zoom = state.config.zoom;\n  const increaseZoom = (amount) => dispatch([\"setConfig\", { zoom: zoom + amount }])\n  return (\n    <div className={className}>\n      <div className={styles.panelButtons}>\n        <div className={styles.panelButton} onClick={() => props.setMenuOpen(!menuOpen)} title={menuOpen ? \"Open Menu\" : \"Close Menu\"}>\n          {menuOpen ? <MdChevronRight /> : <MdMenu />}\n        </div>\n        <div className={styles.panelButton} onClick={() => increaseZoom(+0.1)} title=\"Zoom In\">\n          <MdZoomIn />\n        </div>\n        <div className={styles.panelButton} onClick={() => increaseZoom(-0.1)} title=\"Zoom Out\">\n          <MdZoomOut />\n        </div>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.contentScroll}>\n          <h1>\n            {toTitleCase(state.selectedView)}\n            <ViewButton view={views.EXPORT} buttonIcon={<MdFileUpload />} setView={setView} />\n            <ViewButton view={views.IMPORT} buttonIcon={<MdFileDownload />} setView={setView} />\n            <ViewButton view={views.SETTINGS} buttonIcon={<MdSettings />} setView={setView} />\n          </h1>\n          {state.selectedView === views.SETTINGS && <ConfigFields />}\n          {state.selectedView === views.IMPORT && <ImportView />}\n          {state.selectedView === views.EXPORT && <ExportView />}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Panel;\n","import React from 'react';\nimport TreeCanvas from './TreeCanvas';\nimport Tree from './tree/Tree';\nimport Title from './tree/Title';\nimport ToolsPanel from './menu/Panel';\nimport styles from './App.module.css';\nimport { ContextProvider } from './Context';\n\n/**\n * Wrapper component for full application\n */\nconst App = () => {\n  const [menuOpen, setMenuOpen] = React.useState(true); \n  return (\n    <div className={styles.app}>\n      <ContextProvider>\n        <TreeCanvas menuOpen={menuOpen}>\n          <Tree />\n          <Title />\n        </TreeCanvas>\n        <ToolsPanel menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n      </ContextProvider>\n    </div >\n  );\n}\n\nexport default App;\n","import \"babel-polyfill\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nif (process.env.NODE_ENV !== 'production' || window.prompt('Password:') === atob('cm9vdHM=')) {\n    ReactDOM.render(<App />, document.getElementById('root'));\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"configField\":\"ConfigField_configField__35g0O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leafNode\":\"LeafNode_leafNode__2NCvb\",\"leafNodeImg\":\"LeafNode_leafNodeImg__PNbtv\",\"thin\":\"LeafNode_thin__3TmOv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rootNode\":\"RootNode_rootNode__1zf6l\",\"member\":\"RootNode_member__M5kVV\",\"spouse\":\"RootNode_spouse__3siYF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"configFields\":\"ConfigFields_configFields__BQwk3\",\"search\":\"ConfigFields_search__2OVIk\",\"searchIcon\":\"ConfigFields_searchIcon__1LeLJ\"};"],"sourceRoot":""}