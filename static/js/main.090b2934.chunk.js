(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){e.exports={memberField:"MemberField_memberField__2nVi_",active:"MemberField_active__1TvS4",highlight:"MemberField_highlight__30ROD",root:"MemberField_root__YJ2a9",inline3:"MemberField_inline3__3Cr74",inline4:"MemberField_inline4__33Jk1",title:"MemberField_title__2pdQN",name:"MemberField_name__1QjAq",memberButton:"MemberField_memberButton__bNPeV",removeButton:"MemberField_removeButton__DO7k9",childrenLabel:"MemberField_childrenLabel__2uafD",addChildButton:"MemberField_addChildButton__QaX3w",dithered:"MemberField_dithered__zh91f"}},function(e,t,n){e.exports={childNode:"ChildNode_childNode__2bt90",highlight:"ChildNode_highlight___7fKt",name:"ChildNode_name__3M_NH",date:"ChildNode_date__1cwDA",inline:"ChildNode_inline__38sfN",inlineBlock:"ChildNode_inlineBlock__3gvGX",leaves:"ChildNode_leaves__ZZT_8",top:"ChildNode_top__2Onh4",bottom:"ChildNode_bottom__2tVZ-",left:"ChildNode_left__17s9O",right:"ChildNode_right__Q1e22"}},,,,,function(e,t,n){e.exports={panel:"Panel_panel__1kvg6",closed:"Panel_closed__7iION",panelButtons:"Panel_panelButtons__1upgq",panelButton:"Panel_panelButton__N0C6w",content:"Panel_content__piQTi",contentScroll:"Panel_contentScroll__1klMB",configFieldsWrapper:"Panel_configFieldsWrapper__vLVwn"}},,,,,function(e,t,n){e.exports={configField:"ConfigField_configField__1tNtf"}},function(e,t,n){e.exports={leafNode:"LeafNode_leafNode__2Q0YH",leafNodeImg:"LeafNode_leafNodeImg__1nwst",thin:"LeafNode_thin__mUzOK"}},function(e,t,n){e.exports={rootNode:"RootNode_rootNode__1H3Ke",member:"RootNode_member__5dxim",spouse:"RootNode_spouse__1uvYL"}},function(e,t,n){e.exports={configFields:"ConfigFields_configFields__3F09L",search:"ConfigFields_search__2Q27p",searchIcon:"ConfigFields_searchIcon__253cc"}},function(e,t,n){e.exports={tree:"Tree_tree__2X8I1",treeNodes:"Tree_treeNodes__kMORa"}},function(e,t,n){e.exports={title:"Title_title__3sOns",subTitle:"Title_subTitle__2R3KW"}},,function(e,t,n){e.exports={error:"ImportView_error__HQq0w"}},,,function(e,t,n){e.exports={treeCanvas:"TreeCanvas_treeCanvas__3fuRG",mouseDown:"TreeCanvas_mouseDown__CsTSa"}},,,function(e,t,n){e.exports={treeNode:"TreeNode_treeNode__3qR9V",left:"TreeNode_left__2IE7J"}},,function(e,t,n){e.exports=n.p+"static/media/longLeaves1.4fd1dca2.svg"},function(e,t,n){e.exports=n.p+"static/media/longLeaves2.08958bfe.svg"},function(e,t,n){e.exports=n.p+"static/media/longLeaves3.08c2ab5f.svg"},function(e,t,n){e.exports=n.p+"static/media/shortLeaves1.4565e04a.svg"},function(e,t,n){e.exports=n.p+"static/media/shortLeaves2.0daeb783.svg"},function(e,t,n){e.exports=n.p+"static/media/shortLeaves3.9a8ca7e6.svg"},function(e,t,n){e.exports=n.p+"static/media/shortLeaves4.f9655af9.svg"},function(e,t,n){e.exports=n.p+"static/media/squareLeaf2.9ca5396f.svg"},function(e,t,n){e.exports={treePie:"TreePie_treePie__2ygeH"}},,,function(e,t,n){e.exports={exportView:"ExportView_exportView__1t-Fw"}},function(e,t,n){e.exports={viewButton:"ViewButton_viewButton__1WvE8"}},function(e,t,n){e.exports={app:"App_app__1LGyN"}},,,function(e,t,n){e.exports=n(53)},,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),o=n.n(i),c=(n(50),n(6)),l=n(23),s=n.n(l),d=n(9),u=n.n(d),m=n(1),f=n(7),h=n(10),p=n(11),b=n(24),g=n.n(b),v=n(42),E=n(25),_=n(12),y=n(43),N=n(4),M=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.a)(this,e);var n={id:void 0,name:"New Member",born:"",died:"",spouseName:"",spouseBorn:"",parentId:void 0,offsetAngle:void 0,childrenMinAngleBetweenSibs:void 0,childEdge1Adjustment:void 0,childEdge2Adjustment:void 0},a=Object.keys(t).filter(function(e){return Object.keys(n).includes(e)}).reduce(function(e,n){return Object(m.a)({},e,Object(N.a)({},n,t[n]))},{});Object.assign(this,Object(m.a)({},n,a)),this.id?e.nextId=Math.max(e.nextId,this.id):this.id=++e.nextId};M.nextId=0;var w=M,O=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.a)(this,t),e=Object(v.a)(this,Object(E.a)(t).call(this,n)),Object.assign(Object(_.a)(e),Object(m.a)({},n)),e}return Object(y.a)(t,e),Object(p.a)(t,[{key:"getDescendentIds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return[].concat(Object(f.a)(t.children.map(function(e){return e.id})),Object(f.a)(t.children.map(function(t){return e.getDescendentIds(t)}))).flat()}},{key:"isFirstChild",value:function(){return 1===this.childId}},{key:"isLastChild",value:function(){return this.childId===this.maxChildId}},{key:"isFirst",value:function(){return this.generation&&1===this.generationId}},{key:"isLast",value:function(){return this.generation&&this.generationId===this.generation.size()}}]),t}(w),C=function(){function e(){Object(h.a)(this,e),this.members=[]}return Object(p.a)(e,[{key:"size",value:function(){return this.members.length}},{key:"addMember",value:function(e){this.members.push(e),e.generationId=this.size()}}]),e}(),j=function(){function e(t){Object(h.a)(this,e);var n={members:[],memberData:[],generations:{},rootMember:void 0};Object.assign(this,Object(m.a)({},n,t))}return Object(p.a)(e,[{key:"load",value:function(t){var n=this;w.nextId=0,this.memberData=Object(f.a)(t).map(function(e){return new w(e)}),this.members=[],this.generations={};var a=e.findRoot(this.memberData);this.rootMember=new O(a[0]),this.rootMember.children=function e(t){return n.memberData.filter(function(e){return t.id&&t.id===e.parentId}).map(function(a){var r=new O(a);return r.parent=t,r.children=e(r),r._included=!0,n.members.push(r),r})}(this.rootMember),this.rootMember.depth=0,this.members.push(this.rootMember),this.members.filter(function(e){return e!==n.rootMember&!e._included}).forEach(function(e){return console.error("".concat(e.name," is not included! parent: ").concat(e.parentId))});var r=0,i=[];return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1];a++;var c=0;t.forEach(function(l){delete l._included,l.generation=n.generations[a]=n.generations[a]||new C,l.generation.addMember(l),l.childId=++c,l.maxChildId=t.length,l.depth=a,l.nodeId=n.isCsv?++r:l.id,l.siblings=t.filter(function(e){return e.id!==l.id}),l.prevSibling=i[a],l.ancestors=o,l.nextSibling=void 0,(i[a]||{}).nextSibling=l,i[a]=l,e(l.children,a,[].concat(Object(f.a)(o),[l.nodeId]))})}(this.rootMember.children),this}},{key:"get",value:function(e){return this.members.find(function(t){return t.id===e})}},{key:"getNewest",value:function(){var e=this.members.reduce(function(e,t){return Math.max(e,t.id)},Number.NEGATIVE_INFINITY);return this.get(e)}},{key:"getGenerationCount",value:function(){return Object.keys(this.generations).length}},{key:"findByName",value:function(e){return e&&this.members.find(function(t){return t.name.toLowerCase().includes(e)||t.spouseName.toLowerCase().includes(e)})}},{key:"addChild",value:function(e,t){this.get(e)&&this.load([].concat(Object(f.a)(this.memberData),[Object(m.a)({},t,{parentId:e,name:"New Member"})]))}},{key:"addMember",value:function(e){return this.load([].concat(Object(f.a)(this.memberData),[e]))}},{key:"removeMember",value:function(e){var t=this.get(e),n=[e].concat(Object(f.a)(t.getDescendentIds()));return this.load(this.memberData.filter(function(e){return!n.includes(e.id)}))}},{key:"updateMember",value:function(e,t){var n=this.memberData.find(function(t){return t.id===e});return Object.assign(n,t),this.load(this.memberData)}},{key:"moveMember",value:function(e,t){var n=this.get(e),a=this.memberData.findIndex(function(t){return t.id===e}),r=n.siblings.find(function(e){return e.childId===n.childId+t});if(!r)return this;var i=this.memberData.findIndex(function(e){return e.id===r.id});return this.memberData.splice(i,0,this.memberData.splice(a,1)[0]),this.load(this.memberData)}}]),e}();j.findRoot=function(e){return e.filter(function(e){return!e.parentId})},j.parseCsv=function(e){var t=g.a.parse(e,{header:!0}).data;return j.validate(t),t},j.validate=function(e){if(!Array.isArray(e))throw Error("Not a list");var t=j.findRoot(e);if(!t.length)throw Error("No roots found (members with no parent)");if(t.length>1)throw Error("Multiple roots found (members with no parent)")};var x=j,I={debugMode:!1,zoom:.7,title:"The Grelle Family",subTitle:"October, 2019",treeWidth:1800,treeAngle:200,minAngleBetweenSibs:5,edgeLeafOffsetAngle:1,dateFormat:"MMMM, D YYYY",members:[{id:1,name:"Richard Grelle",born:"July 1, 1943",died:"",spouseName:"Vivian Grelle",spouseBorn:"September 10, 1942"},{id:2,name:"Theresa Gross",born:"April 18, 1966",died:"",spouseName:"Mark Gross",spouseBorn:"December 9, 1961",parentId:1,offsetAngle:"0"},{id:3,name:"Deborah McCullen",born:"May 16, 1967",died:"",spouseName:"Kirk McCullen",spouseBorn:"June 3",parentId:1},{id:4,name:"Maria Ratermann",born:"March 4, 1971",died:"",spouseName:"Lyle Ratermann",spouseBorn:" February 7, 1971",parentId:1},{id:5,name:"Patrick Gross",born:"April 1, 1990",died:"",spouseName:"Elizabeth Carton",spouseBorn:"February 11, 1990",parentId:2},{id:6,name:"Nicholas Gross",born:"April 6, 1991",died:"",spouseName:"Laura Gross",spouseBorn:"",parentId:2},{id:7,name:"Christopher Gross",born:"May 12, 1993",died:"",spouseName:"Kaci Gross",spouseBorn:"October 21, 1992",parentId:2,offsetAngle:"0"},{id:8,name:"Ava Gross",born:"July 31, 2018",died:"",spouseName:"",spouseBorn:"",parentId:5},{id:9,name:"Reilly Gross",born:"July 30, 2017",died:"",spouseName:"",spouseBorn:"",parentId:7},{id:10,name:"Lydia Ratermann",born:"April 17, 1998",died:"",spouseName:"",spouseBorn:"",parentId:4},{id:11,name:"Spencer Ratermann",born:"January 10, 2000",died:"",spouseName:"",spouseBorn:"",parentId:4},{id:12,name:"Reed Gross",born:"November 27, 2018",died:"",spouseName:"",spouseBorn:"",parentId:7}],wrapNames:!0},k=function(e,t){var n=Object(f.a)(t),a=n[0],r=n[1];switch(a){case"setMemberEl":return Object(m.a)({},e,{memberEls:Object(m.a)({},e.memberEls,r)});case"setConfig":return Object(m.a)({},e,{config:Object(m.a)({},e.config,r)});case"importSettings":var i=e.family.load(r.members);return Object(m.a)({},e,{config:r,family:i});case"setSelectedMember":return Object(m.a)({},e,{selectedMember:r});case"updateMember":return Object(m.a)({},e,{family:e.family.updateMember(r.id,r.props)});case"addMember":return Object(m.a)({},e,{family:e.family.addMember(r)});case"removeMember":return Object(m.a)({},e,{family:e.family.removeMember(r)});case"moveMember":return Object(m.a)({},e,{family:e.family.moveMember(r.id,r.positionOffset)});default:return}},S={config:I,family:(new x).load(I.members),members:[],memberEls:{},selectedMember:{}},B=r.a.createContext(S),T=function(e){var t=r.a.useReducer(k,S),n=Object(c.a)(t,2),a=n[0],i=n[1];return r.a.createElement(B.Provider,{value:{state:a,dispatch:i}},e.children)},F=function(e){var t=r.a.useContext(B).state,n=r.a.useRef(),a={marginRight:e.menuOpen?void 0:0},i=t.config.zoom,o={zoom:i},c=u()(s.a.treeCanvas,t.config.debugMode&&"debugMode"),l={isDown:!1,startX:void 0,startY:void 0,scrollLeft:void 0,startTop:void 0},d=function(){n.current.style.cursor="",l.isDown=!1};if(n.current&&t.selectedMember){var m=t.memberEls[t.selectedMember.id];if(m){var f=m.offsetLeft+m.offsetWidth/2,h=m.offsetTop+m.offsetHeight/2;n.current.scroll({top:h*i-n.current.offsetHeight/2*i/i,left:f*i-n.current.offsetWidth/2*i/i,behavior:"smooth"})}}return r.a.createElement("div",{id:"treeCanvas",className:c,style:a,ref:n,onMouseDown:function(e){n.current.style.cursor="grabbing",l.isDown=!0,l.startX=e.pageX-n.current.offsetLeft,l.startY=e.pageY-n.current.offsetTop,l.scrollLeft=n.current.scrollLeft,l.scrollTop=n.current.scrollTop},onMouseLeave:d,onMouseUp:d,onMouseMove:function(e){if(l.isDown){e.preventDefault();var t=e.pageX-n.current.offsetLeft,a=e.pageY-n.current.offsetTop;n.current.scrollLeft=l.scrollLeft-(t-l.startX),n.current.scrollTop=l.scrollTop-(a-l.startY)}}},r.a.createElement("div",{style:o},e.children))},D=n(26),A=n.n(D),L=r.a.forwardRef(function(e,t){return r.a.createElement("div",{ref:t,className:A.a.treeNode,style:e.style},r.a.createElement("div",{className:e.className},e.children))}),P=n(3),R=n.n(P),K=n(27),G=n.n(K),V=new Date,Y={debugMode:!1,zoom:.5,title:"My Family",subTitle:"".concat(V.toLocaleString("default",{month:"long"}),", ").concat(V.getFullYear()),treeWidth:2e3,treeAngle:180,minAngleBetweenSibs:5,edgeLeafOffsetAngle:0,wrapNames:!1,dateFormat:"MMMM, D YYYY",members:[{}]},z=function(e){if(!["ArrowUp","ArrowDown"].includes(e.key))return e.target.value;e.preventDefault();var t=e.target.value.match(/(.*?)(-?[.\d]+)(.*)/);if(!t)return e.target.value;var n=t[2].includes(".")?parseFloat(t[2]):parseInt(t[2]),a=(e.altKey?.1:e.ctrlKey&&100)||1,r=n+("ArrowUp"===e.key?a:-a);return"".concat(t[1]).concat(Math.round(10*r)/10).concat(t[3])},J=function(e){return e.split(" ").map(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}).join(" ")},W=function(e){try{return JSON.parse(e)}catch(t){return e}},U=function(e,t){return e&&G()(e,["DDMMMMY","MMMMDDY"]).format(t||Y.dateFormat)},X=r.a.memo(function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch,i=r.a.useRef(),o=n.config.wrapNames,c=o?"":"\xa0",l=e.spouseName&&!o,s=(e.name||c)+(l?" +":c),d=function(e){return U(e,n.config.dateFormat)},m=d(e.born)+(e.died?" - ".concat(d(e.died)):c),f=e.spouseName||c,h=d(e.spouseBorn)+(e.spouseDied?" - ".concat(d(e.spouseDied)):c),p=o?R.a.inline:R.a.inlineBlock,b=R.a[e.half]||c,g=(n.selectedMember||{}).id;return n.memberEls[e.child.id]||a(["setMemberEl",Object(N.a)({},e.child.id,i.current)]),r.a.createElement(L,{ref:i,style:e.style,className:R.a.childNode},r.a.createElement("div",{className:u()(b,e.id===g&&R.a.highlight)},r.a.createElement("div",{className:u()(p,R.a.member)},r.a.createElement("div",{className:R.a.name},s),r.a.createElement("div",{className:R.a.date},m)),e.spouseName&&r.a.createElement("div",{className:u()(p,R.a.spouse)},r.a.createElement("div",{className:R.a.name},f),r.a.createElement("div",{className:R.a.date},h))))}),q=n(14),H=n.n(q),Q=n(28),Z=n.n(Q),$=n(29),ee=n.n($),te=n(30),ne=n.n(te),ae=n(31),re=n.n(ae),ie=n(32),oe=n.n(ie),ce=n(33),le=n.n(ce),se=n(34),de=n.n(se),ue=[Z.a,ee.a,ne.a],me=[re.a,oe.a,le.a,de.a],fe=function(e){var t="small"===e.size?me:ue;return r.a.createElement(L,{style:e.style,className:H.a.leafNode},r.a.createElement("img",{className:u()(H.a.leafNodeImg,H.a[e.classKey]),src:t[e.id%t.length],alt:""}))},he=n(15),pe=n.n(he),be=function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch,i=r.a.useRef(),o=e.name||"",c=function(e){return U(e,n.config.dateFormat)},l=c(e.born)+(e.died?" - ".concat(c(e.died)):""),s=e.spouseName||"",d=c(e.spouseBorn)+(e.spouseDied?" - ".concat(c(e.spouseDied)):"");return n.memberEls[e.id]||a(["setMemberEl",Object(N.a)({},e.id,i.current)]),r.a.createElement("div",{ref:i,className:pe.a.rootNode},r.a.createElement("div",{className:"".concat(R.a.member," ").concat(pe.a.member)},r.a.createElement("div",{className:R.a.name},o),r.a.createElement("div",{className:R.a.date},l)),r.a.createElement("div",{className:"".concat(R.a.spouse," ").concat(pe.a.spouse)},r.a.createElement("div",{className:R.a.name},s),r.a.createElement("div",{className:R.a.date},d)))},ge=n(35),ve=n.n(ge),Ee=n(36),_e=n.n(Ee),ye=function(e){var t=e.r,n=2*Math.PI+(Math.PI-e.thetaStart),a=Math.PI/100,i=Math.cos(e.thetaStart+a)*t,o=Math.sin(e.thetaStart+a)*t,c=Math.cos(n+a)*t,l=Math.sin(n+a)*t,s=n-e.thetaStart>Math.PI?1:0,d=["M ".concat(i," ").concat(o),"A ".concat(t," ").concat(t," 0 ").concat(s," 1 ").concat(c," ").concat(l),"L 0 0"].join(" ");return r.a.createElement("svg",{className:_e.a.treePie,style:e.style,viewBox:"-100 -100 200 200"},r.a.createElement("defs",null,r.a.createElement("pattern",{id:"leaf-square",patternUnits:"userSpaceOnUse",width:43,height:32.4},r.a.createElement("image",{href:ve.a,x:"0",y:"0",width:43,height:32.4}))),r.a.createElement("path",{d:d,fill:"url(#leaf-square)"}))},Ne=n(17),Me=n.n(Ne),we=function(e){return(e||0)*(Math.PI/180)},Oe=function(e){var t=r.a.useContext(B).state,n=t.config,a=t.family,i=a.rootMember,o=Math.PI+(Math.PI-we(n.treeAngle))/2,c=2*Math.PI-(Math.PI-we(n.treeAngle))/2,l=function(e){return 100/(a.getGenerationCount()+1)*e},s=0,d=function(e){var t=e.parent.calculations,a=e.parent.parent&&e.parent.parent.children.length,r=t?t.familyThetaLen/a:we(n.treeAngle),i=r/(e.siblings.length+1),c=e.prevSibling&&e.prevSibling.calculations.theta||0,s=t?t.theta-r/2:o,d=Math.max(s+i*(e.childId-.5),c+we(n.minAngleBetweenSibs),c+we(e.parent.childrenMinAngleBetweenSibs))+we(e.offsetAngle);return{theta:d,r:l(e.depth),half:d>Math.PI+Math.PI/2?"right":"left",familyThetaLen:r,childThetaLen:i}},u=function(e,t){var n=e*Math.cos(t)/2+50,a=e*Math.sin(t)+100;return{left:"".concat(n,"%"),top:"".concat(a,"%"),transform:"rotate(".concat(t,"rad)")}},m="".concat(n.treeWidth,"px"),h="".concat(n.treeWidth/2,"px"),p={width:m,height:"calc(".concat(h," + 460px)")},b={width:m,height:"calc(".concat(h," * 2)")},g={width:m,height:h},v=function e(t){return t.reduce(function(t,n){n.calculations=d(n);var a=u(n.calculations.r,n.calculations.theta);return t.push(r.a.createElement(X,Object.assign({},n,{half:n.calculations.half,style:a,key:s++,child:n}))),t.push(e(n.children)),t.flat()},[])}(i.children),E=function(){var e=[],t=0,n=0,i=function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=Math.round(25*a);Object(f.a)(Array(d)).forEach(function(m,f){if(!(f%s)){var h=l(a)+10+i;n=h<n||i?n:h;var p=u(h,o+(c-o)/(d-1)*f);e.push(r.a.createElement(fe,{key:++t,id:t,style:p,size:"small"}))}})};return Object.keys(a.generations).forEach(function(e){return i(e)}),i(a.getGenerationCount(),5,2),i(a.getGenerationCount(),8,5),{leafNodes:e,maxR:n}}(),_=function(){var e=[],t=0;a.members.forEach(function(n){if(n.children.length&&n.parent){var a=l(n.depth+1)-11,i=n.children[0].calculations,o=i.theta-i.childThetaLen/2+we(n.childEdge1Adjustment),c=n.children.slice(-1)[0].calculations,s=c.theta+c.childThetaLen/2+we(n.childEdge2Adjustment);n.isFirst()||n.prevSibling&&n.prevSibling.children.length||e.push(r.a.createElement(fe,{id:++t,key:t,style:u(a,o),classKey:"thin"})),n.isLast()||e.push(r.a.createElement(fe,{id:++t,key:t,style:u(a,s),classKey:"thin"}))}});var i=o-we(n.edgeLeafOffsetAngle),s=c+we(n.edgeLeafOffsetAngle);return Object.keys(a.generations).forEach(function(n){var a=l(n)-11;e.push(r.a.createElement(fe,{id:++t,key:t,style:u(a,i)})),e.push(r.a.createElement(fe,{id:++t,key:t,style:u(a,s)}))}),e}();return r.a.createElement("div",{className:Me.a.tree,style:p},a.getGenerationCount()>1&&r.a.createElement(ye,{style:b,thetaStart:o,r:E.maxR}),r.a.createElement("div",{className:Me.a.treeNodes,style:g},r.a.createElement(be,i),v,E.leafNodes,_))},Ce=n(18),je=n.n(Ce),xe=function(e){var t=r.a.useContext(B).state.config;return r.a.createElement("div",{className:je.a.title,style:{width:"".concat(t.treeWidth,"px")}},t.title,r.a.createElement("div",{className:je.a.subTitle},t.subTitle))},Ie=n(8),ke=n.n(Ie),Se=n(16),Be=n.n(Se),Te=n(13),Fe=n.n(Te),De=function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch;return r.a.createElement("div",{className:Fe.a.configField},r.a.createElement("div",null,e.label),r.a.createElement("input",Object.assign({value:n.config[e.configKey]||"",onChange:function(t){var n="checkbox"===(e.attrs||{}).type?t.target.checked:t.target.value;a(["setConfig",Object(N.a)({},e.configKey,W(n.trim()))])},onKeyDown:function(t){return a(["setConfig",Object(N.a)({},e.configKey,W(z(t)))])},type:"number"},e.attrs)))},Ae=n(2),Le=n.n(Ae),Pe=n(5),Re=r.a.memo(function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch,i=e.member,o=n.selectedMember||{},c=(o.ancestors||[]).includes(i.id),l=i.id===o.id,s="".concat(Fe.a.configField," ").concat(Le.a.memberField," ").concat(e.root?Le.a.root:""," ").concat(l?Le.a.active:""),d=i.name+(i.spouseName?" and ":"")+i.spouseName,u="".concat(Le.a.name," ").concat(l||c?Le.a.highlight:""),m=function(e){return a(["updateMember",{id:i.id,props:e}])},f=r.a.useRef(),h=function(e){return a(["setSelectedMember",e||{}])},p=function(e,t){e.stopPropagation(),a(["moveMember",{id:i.id,positionOffset:t}])},b=function(e){return r.a.createElement("input",{ref:e.ref,value:i[e.configKey]||e.defaultValue||"",onChange:function(t){return function(e,t,n){return m(Object(N.a)({},t,void 0===n?e.target.value:n))}(t,e.configKey)},onKeyDown:function(t){return function(e,t){return m(Object(N.a)({},t,z(e)))}(t,e.configKey)}})},g=function(e){return r.a.createElement("div",{className:e.className||Le.a.inline3},r.a.createElement("div",{className:Le.a.title},e.title),e.children)},v=r.a.createElement("div",{className:Le.a.addChildButton},r.a.createElement("button",{onClick:function(e){a(["addMember",{parentId:i.id}]),setTimeout(function(){return h(n.family.getNewest())})}},"Add Child")),E=r.a.createElement(r.a.Fragment,null,e.member.children.map(function(e){return r.a.createElement(Re,{member:e,key:e.id})}),!e.member.children.length&&r.a.createElement("div",{className:Le.a.dithered},"No children")),_=r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(r.a.Fragment,null,v,E)),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,g({title:"Name",children:b({configKey:"name",ref:f})}),g({title:"Birth",children:b({configKey:"born"})}),g({title:"Death",children:b({configKey:"died"})})),r.a.createElement("div",null,g({title:"Partner Name",children:b({configKey:"spouseName"})}),g({title:"Partner Birth",children:b({configKey:"spouseBorn"})}),g({title:"Partner Death",children:b({configKey:"spouseDied"})})),!e.root&&r.a.createElement(r.a.Fragment,null,g({title:"Member Adjustment",children:b({configKey:"offsetAngle",defaultValue:"0"}),className:Le.a.inline4}),g({title:"Child Min Sibling Angle",children:b({configKey:"childrenMinAngleBetweenSibs",defaultValue:"0"}),className:Le.a.inline4}),g({title:"Child Edge 1 Adjustment",children:b({configKey:"childEdge1Adjustment",defaultValue:"0"}),className:Le.a.inline4}),g({title:"Child Edge 2 Adjustment",children:b({configKey:"childEdge2Adjustment",defaultValue:"0"}),className:Le.a.inline4})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:Le.a.childrenLabel},"Children"),v),r.a.createElement("div",null,E))),M=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Le.a.memberButton},r.a.createElement(Pe.b,{className:Le.a.removeButton,onClick:function(e){if(window.confirm("Are you sure you want to remove ".concat(d,"?"))){var t=i.getDescendentIds(),n="This will also remove ".concat(t.length," descendent").concat(t.length>1?"s":"",", are you absolutely sure?");t.length&&!window.confirm(n)||(a(["removeMember",i.id]),h(i.parent))}},title:"Remove"})),r.a.createElement("div",{onClick:function(e){return p(e,1)},className:Le.a.memberButton,title:"Move Down"},r.a.createElement(Pe.d,{className:i.isLastChild()?Le.a.dithered:void 0})),r.a.createElement("div",{onClick:function(e){return p(e,-1)},className:Le.a.memberButton,title:"Move Up"},r.a.createElement(Pe.c,{className:i.isFirstChild()?Le.a.dithered:void 0})));return r.a.createElement("div",{className:s},r.a.createElement("div",{onClick:function(e){e.stopPropagation(),h(i.id===o.id?i.parent:i)}},r.a.createElement("div",{className:u},d),!e.root&&l&&M),l?y:_)}),Ke=Re,Ge=function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch,i=r.a.useState(""),o=Object(c.a)(i,2),l=o[0],s=o[1],d=n.family.findByName(l)===n.selectedMember;return r.a.createElement("div",{className:Be.a.configFields},r.a.createElement("h3",null,"Labels"),r.a.createElement(De,{label:"Title",configKey:"title",attrs:{type:"text"}}),r.a.createElement(De,{label:"Subtitle",configKey:"subTitle",attrs:{type:"text"}}),r.a.createElement("h3",null,"Tree Settings"),r.a.createElement(De,{label:"Tree Size",configKey:"treeWidth",attrs:{placeholder:"px"}}),r.a.createElement(De,{label:"Tree Angle",configKey:"treeAngle",attrs:{placeholder:"degrees"}}),r.a.createElement(De,{label:"Edge Leaf Offset",configKey:"edgeLeafOffsetAngle",attrs:{placeholder:"degrees"}}),r.a.createElement(De,{label:"Min Sibling Angle",configKey:"minAngleBetweenSibs",attrs:{placeholder:"degrees"}}),r.a.createElement(De,{label:"Date Format",configKey:"dateFormat",attrs:{type:"text",placeholder:Y.dateFormat}}),r.a.createElement(De,{label:"Squish Names Together",configKey:"wrapNames",attrs:{type:"checkbox"}}),r.a.createElement("h3",null,"Family Members",r.a.createElement("div",{className:Be.a.search},r.a.createElement("input",{onChange:function(e){var t=e.target.value.toLowerCase();s(t),a(["setSelectedMember",n.family.findByName(t)])},value:d?l:""}),r.a.createElement(Pe.h,{className:Be.a.searchIcon}))),r.a.createElement(Ke,{member:n.family.rootMember,root:!0}))},Ve=n(19),Ye=n.n(Ve),ze=n(37),Je=n(38),We=n.n(Je),Ue=n(39),Xe=n.n(Ue),qe=function(e){var t=r.a.useContext(B).state,n=r.a.useState(!1),a=Object(c.a)(n,2),i=a[0],o=a[1],l=r.a.useRef(null),s=Object(m.a)({},t.config,{members:t.family.memberData}),d=function(){var e=Object(ze.a)(Ye.a.mark(function e(){var n,a,r;return Ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),n=t.config.treeWidth,a=Math.max(n,n/2+600),r=function(e,t){return e.getElementById(t)},e.next=6,We()(document.getElementById("treeCanvas"),{scale:3,width:n,height:a,removeContainer:!1,onclone:function(e){r(e,"root").style.width="".concat(n,"px"),r(e,"root").style.height="".concat(a,"px"),r(e,"treeCanvas").style.width="".concat(n,"px"),r(e,"treeCanvas").style.height="".concat(a,"px")}});case 6:e.sent.toBlob(function(e){var n=document.createElement("a");if(document.body.appendChild(n),n.download="".concat(t.config.title,".png"),!e)throw Error("Something went wrong");n.href=window.URL.createObjectURL(e),n.click(),n.remove(),o(!1)});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Xe.a.exportView},r.a.createElement("button",{onClick:function(){l.current.select(),document.execCommand("copy")}},"Copy Settings"),"\xa0",r.a.createElement("button",{onClick:function(){var e=t.family.memberData,n=Object.keys(e[0]).join(","),a="".concat(n,"\n").concat(e.map(function(e){return'"'.concat(Object.values(e).join('","'),'"')}).join("\n")),r=document.createElement("a");r.href="data:text/csv;charset=utf-8,"+encodeURI(a),r.target="_blank",r.download="".concat(t.config.title,".csv"),r.click()}},"Download Family CSV"),"\xa0",r.a.createElement("button",{onClick:d},i?"Generating...":"Download Printable Tree"),r.a.createElement("textarea",{ref:l,readOnly:!0,defaultValue:JSON.stringify(s)}))},He=n(20),Qe=n.n(He),Ze=function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch,i=r.a.useState(),o=Object(c.a)(i,2),l=o[0],s=o[1],d=r.a.useState(),u=Object(c.a)(d,2),f=u[0],h=u[1],p=function(e){try{s(e);var t="{"===e.trim().substr(0,1)?JSON.parse(e):{members:x.parseCsv(e)};a(["importSettings",Object(m.a)({},n.config,t)]),h(null)}catch(f){h(f.toString())}},b=function(e){return p(e.target.value)};return r.a.createElement("div",{className:Qe.a.exportView},r.a.createElement("button",{onClick:function(){return p(JSON.stringify(Y))}},"Use blank"),r.a.createElement("p",null,r.a.createElement("b",null,"Caution"),": Changes are made in realtime so typing in this box will completely erase current settings"),r.a.createElement("textarea",{onChange:b,onInput:b,placeholder:"Paste exported settings or family CSV here",value:l}),f&&r.a.createElement("div",{className:Qe.a.error},f))},$e=n(40),et=n.n($e),tt=function(e){var t=u()(ke.a.panelButton,et.a.viewButton),n=e.view;return r.a.createElement("div",{className:t,onClick:function(){return e.setView(n)},title:J(e.view)},r.a.createElement(function(){return e.buttonIcon},null))},nt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return Object(m.a)({},e,Object(N.a)({},t,t))},{})}("SETTINGS","IMPORT","EXPORT"),at=function(e){var t=r.a.useContext(B),n=t.state,a=t.dispatch,i=e.menuOpen,o=r.a.useState(nt.SETTINGS),l=Object(c.a)(o,2),s=l[0],d=l[1],u="".concat(ke.a.panel).concat(i?"":" ".concat(ke.a.closed)),m=n.config.zoom,f=function(e){return a(["setConfig",{zoom:m+e}])};return r.a.createElement("div",{className:u},r.a.createElement("div",{className:ke.a.panelButtons},r.a.createElement("div",{className:ke.a.panelButton,onClick:function(){return e.setMenuOpen(!i)},title:i?"Open Menu":"Close Menu"},i?r.a.createElement(Pe.a,null):r.a.createElement(Pe.g,null)),r.a.createElement("div",{className:ke.a.panelButton,onClick:function(){return f(.1)},title:"Zoom In"},r.a.createElement(Pe.j,null)),r.a.createElement("div",{className:ke.a.panelButton,onClick:function(){return f(-.1)},title:"Zoom Out"},r.a.createElement(Pe.k,null))),r.a.createElement("div",{className:ke.a.content},r.a.createElement("div",{className:ke.a.contentScroll},r.a.createElement("h1",null,J(s),r.a.createElement(tt,{view:nt.EXPORT,buttonIcon:r.a.createElement(Pe.f,null),setView:d}),r.a.createElement(tt,{view:nt.IMPORT,buttonIcon:r.a.createElement(Pe.e,null),setView:d}),r.a.createElement(tt,{view:nt.SETTINGS,buttonIcon:r.a.createElement(Pe.i,null),setView:d})),s===nt.SETTINGS&&r.a.createElement(Ge,null),s===nt.IMPORT&&r.a.createElement(Ze,null),s===nt.EXPORT&&r.a.createElement(qe,null))))},rt=n(41),it=n.n(rt),ot=function(){var e=r.a.useState(!0),t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:it.a.app},r.a.createElement(T,null,r.a.createElement(F,{menuOpen:n},r.a.createElement(Oe,null),r.a.createElement(xe,null)),r.a.createElement(at,{menuOpen:n,setMenuOpen:a})))};window.prompt("Password:")===atob("cm9vdHM=")&&o.a.render(r.a.createElement(ot,null),document.getElementById("root"))}],[[44,1,2]]]);
//# sourceMappingURL=main.090b2934.chunk.js.map